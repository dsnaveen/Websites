<!DOCTYPE html>

<!-- Mirrored from www.bogotobogo.com/cplusplus/libraries.php by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 11 Dec 2017 14:58:49 GMT -->
<head>
  <title>C++ Tutorial: Libraries - 2017</title>
  <meta content="C++ Tutorial: Libraries, A static library contains object code linked with an end-user application, and then becomes part of that executable. A static library is sometimes called an archive since it is just a package of compiled object files. These libraries are in directories such as /lib, /usr/lib or /usr/local/lib." name="description" />
  <meta content="C++ Tutorial, Libraries, static vs dynamic libraries, DLL, position independent code (PIC), ldd, ld, library porting, declspec(dllexport), declspec(dllimport), shared library, linker, loader" name="keywords" />
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.no-icons.min.css" rel="stylesheet">
  <link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Alice|Open+Sans:400,300,700">
  <link rel="stylesheet" href="../public/css/app.css">
  <link rel="stylesheet" href="../public/css/styles.css">
  <link rel="stylesheet" href="../public/css/bogostyleWidePreNew.css">
</head>

<body class="home">
    <nav class="navbar navbar-default navbar-fixed-top">
    <div class="container-fluid">      
      <div class="navbar-header">
        <!--<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar"> -->
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse" aria-expanded="false" aria-controls="navbar"> 
          <span class="sr-only">Toggle navigation</span> 
          <span class="icon-bar"></span> 
          <span class="icon-bar"></span> 
          <span class="icon-bar"></span> 
        </button>
        <a class="navbar-brand" href="../index-2.html">BogoToBogo</a>
      </div>
      
      <div class="navbar-collapse collapse">
        
        <ul class="nav navbar-nav">
          <li class="active"><a href="../index-2.html">Home</a></li>
          <li><a href="../about_us.html">About</a></li>
          <li><a href="../Hadoop/BigData_hadoop_Install_on_ubuntu_single_node_cluster.html">Big Data</a></li>
          <li><a href="../python/scikit-learn/Artificial-Neural-Network-ANN-1-Introduction.html">Machine Learning</a></li>
          <li><a href="../AngularJS/AngularJS_Introduction.html">AngularJS</a></li> 
          <li><a href="../python/pytut.html">Python</a></li>
          <li><a href="cpptut.html">C++</a></li>
          <li><a href="../DevOps/DevOps_Jenkins_Chef_Puppet_Graphite_Logstash.html">DevOps </a></li>
          <li><a href="../Algorithms/algorithms.html">Algorithms</a></li> 
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">More...<b class="caret"></b></a>
            <ul class="dropdown-menu">
           
              <li><a href="../Qt/Qt5_Creating_QtQuick2_QML_Application_Animation_A.html">Qt 5</a></li>                           
              <li><a href="../Android/android.html">Android</a></li>
              
              <li><a href="../Linux/linux_tips1.html">Linux</a></li>
              <li><a href="../Java/tutorials/on_java.html">Java</a></li>
              <li><a href="../CSharp/.netframework.html">CSharp</a></li>
              <li><a href="../VideoStreaming/videostreaming_etc.html">Video Streaming</a></li>
              <li><a href="../FFMpeg/ffmpeg_fade_in_fade_out_transitions_effects_filters_slideshow_concat.html">FFmpeg</a></li>
              <li><a href="../Matlab/Matlab_Tutorial_Manipulating_Audio_I_Reverse_Delay_Tone_Control_Changing_Speed_Removing_Vocals.html">Matlab</a></li>
              <li><a href="../python/Django/Python_Django_Forums_Shared_Host.html">Django 1.8</a></li>
              <li><a href="../Laravel5/Laravel5_ToDo_List_Sample.html">Laravel 5.2</a></li>
              <li><a href="../RubyOnRails/RubyOnRails.html">Ruby On Rails</a></li>
              <li><a href="../HTML5/HTML5_Tutorial.html">HTML5 & CSS</a></li>
              <li><a href="../AmazingPlaces/index.html" target="_blank">
<img src="../Menus/MenuIcons/Earth_8px_transparent_background.png"
width="24" height="24"/>Earth</a> </li>
            </ul>
          </li>
        </ul>      
      </div>
    </div>  
  </nav>  

  <div id="main">
    <div class="container">
      <div class="row section featured topspace">
        <div class="row">
          <div class="col-sm-9 col-md-9 col-xs-9">
            <h2 class="section-title">C++ Tutorial - Libraries - 2017        <g:plusone></g:plusone></h2>
            <div class="icon-image">
                 <img src="images/cplusplus_icon.png" alt="cplusplus_icon.png"/>
            </div>
            <div class="SocialLinks">
  <span class='st__large' displayText=''></span>
  <br><br>
  <div align="center">
  <span class='st_facebook_large' displayText='Facebook'></span>
  <span class='st_twitter_large' displayText='Tweet'></span>
  <span class='st_linkedin_large' displayText='LinkedIn'></span>
  </div>
  <br><br>
  <script type="text/javascript" src="http://w.sharethis.com/button/buttons.js"></script>
  <script type="text/javascript">stLight.options({publisher: "b9569c43-5f56-4501-92f0-4bf4aa8fceb0", doNotHash: false, doNotCopy: true, hashAddressBar: false});</script>
</div>

<div id="bookmarkshare">
  <script type="text/javascript">var addthis_config = {"data_track_clickback":true};</script>
  <a class="addthis_button" href="http://www.addthis.com/bookmark.php?v=250&amp;username=khhong7"><img src="http://s7.addthis.com/static/btn/v2/lg-share-en.gif" width="125" height="16" alt="Bookmark and Share" style="border:0"/></a>
  <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#username=khhong7"></script>
</div>

<br>
<hr>
<br>


<!-- Google bogo1 ad -->
<!-- Google search box -->



<!-- bogo1 -->
<div>
  <script async src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- bogo1 -->
  <ins class="adsbygoogle"
     style="display:inline-block;width:728px;height:90px"
     data-ad-client="ca-pub-4716428189734495"
     data-ad-slot="6542308167"></ins>
  <script>
   (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


<!-- Google search box -->
<div class="AdSenseSearch">
  bogotobogo.com site search:
  <form action="http://www.google.com/" id="cse-search-box" target="_blank">
    <div>
      <input type="hidden" name="cx" value="partner-pub-4716428189734495:1794050961" />
      <input type="hidden" name="ie" value="UTF-8" />
      <!--<input type="text" name="q" size="55" />-->
      <input type="text" name="q" size="" width="90%"/>
      <input type="submit" name="sa" value="Search" />
    </div>
  </form>
  <script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en"></script>
</div>




<hr>
            <br><br><br>
<div class="subtitle" id="libraries">Static vs Dynamic Libraries</div>
<p>Use dynamic libraries instead of static libraries whenever possible! </p>

<!-- Google bogo_square_ad -->
<div>
  <script type="text/javascript">
    google_ad_client = "ca-pub-4716428189734495";
    /* bogo_LargeRectangle_336_280 */
    google_ad_slot = "2712696561";
    google_ad_width = 336;
    google_ad_height = 280;
  </script>
  <script type="text/javascript"
    src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
  </script>
</div>
<br>





<p>
There are two types of libraries we can make. The decision on which one we take can have a significant impact on our clients' applications, such as executable size, load time, etc.</p>
<br/>
<div class="subtitle_2nd" id="slibraries">Static Libraries</div>
<br/>
<img alt="static_vs_dynamic_libraries2" src="images/libraries/static_vs_dynamic_2.png"/>
<p>A static library contains object code linked with an end-user application, and then becomes part of that executable. A static library is sometimes called an archive since it is just a package of compiled object files. These libraries are in directories such as <strong>/lib</strong>, <strong>/usr/lib</strong> or <strong>/usr/local/lib</strong>. </p>
<p>
<p>After resolving the various function references from the main program to the modules in the static library, a linker 
extracts copies of the required object modules from the library and copies these
into the resulting executable file. When linking is done during the creation of an executable, it is known as <strong>static linking</strong> or <strong>early binding</strong>. In this case, the linking is usually done by a linker, but may also be done by the compiler. A static library, also known as an archive, is intended to be statically linked. Originally, only static libraries existed. Static linking must be performed when any modules are recompiled.</p>
<img alt="StaticLibraryLink.png" src="images/libraries/StaticLibraryLink.png"/>
<p>All of the modules required by a program are sometimes statically linked and copied into the executable file. This process, and the resulting stand-alone file, is known as a <strong>static build</strong> of the program.</p>
<br/>
<img alt="static_vs_dynamic_libraries1" src="images/libraries/static_vs_dynamic_1.png"/>
<p>The filenames always start with <strong>lib</strong>, and end with <strong>.a</strong> (archive, static library) on Unix/Linux, and on Windows it's a little bit complicated. Depending on how they are compiled, <strong>*.LIB</strong> files can be either static libraries or representations of dynamically linkable libraries needed only during compilation, known as <strong>Import Libraries</strong>. Unlike in the UNIX world, where different file extensions are used, when linking against <strong>*.LIB</strong> file in Windows one must first know if it is a <strong>regular static</strong> library or an <strong>import</strong> library. In the latter case, a <strong>.DLL</strong> file must be present at run time.</p>
<p>Here are implications of distributing our implementation as a static library:</p>
<ol>
<li>A static library is only needed to link an application. It is not needed to run that application because the library code is already embedded inside the application. So, our clients can distribute their applications without any additional run-time dependencies.</li>
<li>If our clients want to link our library into multiple executables, each one will embed a copy of our code. If our library is 100MB in size, and our client wishes to link this into three separate programs, then we could be adding up to 300MB to the total size of their product. Notice that <strong>only the object files in the static library that are actually used are copied to the application</strong>. Thus, in reality, the total size of each application could be less than this worst case.</li>
<li>Our clients can distribute their applications without any concerns that it will find an incompatible library on the end-user's side or a completely different library with the same name from another vendor.</li>
<li>But if our clients want to be able to hot patch their application, in other words, they want to update the version of our library used by their application, they must replace the entire executable to achieve this. If this is done as an internet-based update, the end user may have to download a much larger update and hence wait longer for the update to complete.</li>
</ol>
<br/>
<div class="subtitle_2nd" id="dlibraries">Dynamic Libraries</div>
<p>A <strong>shared library</strong> or <strong>shared object</strong> is a file that is intended to be shared by executable files and further shared objects files. Modules used by a program are loaded from individual shared objects into memory at load time or run time, rather than being copied by a linker when it creates a single monolithic executable file for the program.</p>
<img alt="DynamicLibraryLink.png" src="images/libraries/DynamicLibraryLink.png"/>
<p>In other words, dynamic libraries are files linked against at compile time to resolve undefined references and then distributed with the end-user application so that the application can load the library code at run time. Usually, this requires use of a dynamic linker on the end user's machine to determine and load all dynamic library dependencies at run time, perform the necessary symbol relocations, and then pass control to the application.</p>
<p>The Linux dynamic linker is called <strong>ld.so</strong> and on the Mac it is called <strong>dyld</strong>. The dynamic linker supports a number of environment variables to modify or debug its behavior. </p>
<p>As mentioned earlier, dynamic libraries are sometimes called shared libraries because they can be shared by multiple programs. On Unix-like machine, they have a <strong>.so</strong> (shared object, dynamically linked library) file extension. On Windows, dynamically linkable libraries usually have the suffix <strong>*.DLL</strong>, although other file name extensions may be used for specific purpose dynamically-linked libraries, e.g. <strong>*.OCX</strong> for OLE libraries. </p>
<p>Here are implications of using dynamic libraries to distribute our program:</p>
<ol>
<li>Our clients must distribute our dynamic library with their application as well as any dynamic libraries that our library depends on, so that it can be discovered when the application is run.</li>
<li>Our clients' applications will nor run if the dynamic library cannot be found. Also, the application may not run if the dynamic library is upgraded.</li>
<li>Using dynamic libraries can often more efficient than static libraries in terms of disk space if more than one application needs to use the library. This is because the library code is stored in a single shared file and not duplicated inside each executable. However, even with static library, the executable only needs to include the object code from the static library that is actually used. So, if each application uses only a small fraction of the total static library, the disk space efficiency can still rival that of a single complete dynamic library.</li>
<li>Dynamic libraries may also be more efficient in terms of memory. Most modern OS will attempt to only load the dynamic library code into memory once, and share it across all applications that depend upon it. This may also lead to better cache utilization. By comparison, every application that is linked against a static library will load duplicate copies of the library code into memory.</li>
<li>If our clients want to hot patch their application with a new (backward compatible) version of our shared library, they can simply drop in the replacement library file and all of their applications will use this new library without having to recompile or relink.</li>
</ol>
<br/>
<div class="subtitle_2nd" id="plibraries">Plugins</div>
<p> Plug-ins enable customizing the functionality of an application. For example, plug-ins are commonly used in web browsers to play video, scan for viruses, and display new file types. Well-known plug-ins examples include Adobe Flash Player, QuickTime, and Microsoft Silverlight.</p>
<img alt="PluginLibraryLink.png" src="images/libraries/PluginLibraryLink.png"/>
<p>Dynamic libraries are usually linked against an application and then distributed with that application so that the OS can load the library when the application is launched. However, it is also possible for an application to load a dynamic library on demand without the application having been compiled and linked against that library.</p>
<p>This can be used to create plugin interface, when the application can load additional code at run time that extends the basic capabilities of the program.</p>
<p>This gives us the capability to create extensible code that allow our clients to drop in new functionality that our program will then load and execute.</p>
<br/>
<br/>
<img alt="UleungDo_PyingRee.png" src="images/libraries/UleungDo_PyingRee.png"/>
<br/>
<br/>
<br/>
<br/>
<div class="subtitle" id="building_libraries">Building Library</div>
<br/>
<p>Here are sample codes:</p>
<pre>
// mylib.h
#ifndef MYLIB_H
#define MYLIB_H
double calcSqrt(double);
#endif

// calc.c
#include &lt;math.h&gt;
#include "mylib.h"
double calcSqrt(double d)
{
        return sqrt(d);
}

// main.c
#include &lt;stdio.h&gt;
#include "mylib.h"
int main()
{
        double d = 100;
        printf("sqrt(%3.0f)=%2.0f\n",d,calcSqrt(d));
        return 0;
}
</pre>
<div class="subtitle_2nd" id="building_libraries_static">Building Library - static</div>
<pre>
$ gcc -c main.c
$ gcc -c calc.c
$ gcc -o main calc.o main.o -lm   or   gcc -o main calc.o main.o /usr/lib/libm.a
$ ./main
sqrt(100)=10
</pre>
<p>Now, let's build a new library using <strong>ar</strong>.</p>
<pre>
$ <font color="red">ar</font> crv libcalc.a calc.o
</pre>
<p>Now we can make executable from the library we just built, <strong>libcalc.a</strong></p>
<pre>
$ gcc -o main main.o <font color="red">libcalc.a</font> -lm   
or
$ gcc -o main main.o <font color="red">-L. -lcalc</font> -lm

$ ./main
sqrt(100)=10
</pre>
<p>The <strong>-L.</strong> option tells compiler that the library, <strong>libcalc.a</strong> can be found in the current directory.</p>
<p>We can list symbols in the object/library by using <strong>nm</strong> command:</p>
<pre>
$ <font color="red">nm main</font>
080495a0 d _DYNAMIC
08049674 d _GLOBAL_OFFSET_TABLE_
0804855c R _IO_stdin_used
         w _Jv_RegisterClasses
08049590 d __CTOR_END__
0804958c d __CTOR_LIST__
08049598 D __DTOR_END__
08049594 d __DTOR_LIST__
08048588 r __FRAME_END__
0804959c d __JCR_END__
0804959c d __JCR_LIST__
08049694 A __bss_start
08049690 D __data_start
08048510 t __do_global_ctors_aux
08048380 t __do_global_dtors_aux
08048560 R __dso_handle
0804958c d __fini_array_end
0804958c d __fini_array_start
         w __gmon_start__
08048509 T __i686.get_pc_thunk.bx
0804958c d __init_array_end
0804958c d __init_array_start
08048490 T __libc_csu_fini
080484a0 T __libc_csu_init
         U __libc_start_main@@GLIBC_2.0
0804958c d __preinit_array_end
0804958c d __preinit_array_start
08049694 A _edata
0804969c A _end
08048538 T _fini
08048558 R _fp_hw
080482c0 T _init
08048330 T _start
08048450 T <font color="red">calcSqrt</font>
08048354 t call_gmon_start
08049698 b completed.5791
08049690 W data_start
08049694 b dtor_idx.5793
080483e0 t frame_dummy
08048404 T main
         U printf@@GLIBC_2.0
         U sqrt@@GLIBC_2.0
$ <font color="red">nm libcalc.a</font>
calc.o:
00000000 T calcSqrt
         U sqrt
</pre>
<p>The character in the second column represents the symbol type: <strong>T</strong> refers to a text section symbol that is defined in the library, <strong>U</strong> refers to a symbol that is referenced by the library but is not defined by it. An uppercase letter specifies an external symbol, while a lowercase represents an internal symbol.</p>
<p>The string in the 3rd column provides the mangled symbol name. We can unmangle a symbol using <strong>c++filt</strong> command.</p>
<p>We can list global symbols using <strong>g</strong> option in the <strong>nm</strong> command:</p>
<pre>
nm -g main
</pre>
<p>Also, see <a href="#linux_static">Creating Static Libraries on Linux</a></p>
<br/>
<div class="subtitle_2nd" id="building_libraries_shared">Building Library - shared (dynamic)</div>
<p>A typical shared library extension is <strong>so</strong>. For math library, it is <strong>/usr/lib/libm.so</strong>.</p>
<p>When a program uses shared library, the code itself is not included in the program, but it just links the library to refer it at run time. In that way, several program use the library without having it, and can save space. In other words, shared libraries address the disadvantages of static libraries. A shared library is an object module that can be loaded at run time at an arbitrary memory address, and it can be linked to by a program in memory. Shared libraries often are called as shared objects. On most UNIX systems they are denoted with a <strong>.so</strong> suffix and Microsoft refer to them as DLLs (dynamic link libraries).</p>
<p>Also, shared library has addition advantage over static library because it can be updated independently.</p>
<p>Actually, the file, <strong>/usr/lib/libm.so</strong> is a symbolic link to the revision of <strong>libm.so.6</strong>, and it is used at compile time.</p>
<pre>
$ ls -la libm.so
lrwxrwxrwx 1 root root 19 Feb  6  2008 libm.so -&gt; ../../lib/libm.so.6
</pre>
<p>When linux application starts, the OS checks the library version requested by the application.</p>
<p>In linux system, <strong>ld.so</strong> (dynamic linker/loader) loads the shared libraries needed by a program, prepares the program to run, and then runs it.</p>
<p>When we try to run a program, but it is complaining that a library is missing though we know the library is there (such as in /usr/local/lib). But most likely /usr/local/lib is not on the default place (/usr/lib) where the program looks for the lib. So, we need to let the system know where to look for. There is a file (<strong>/etc/ld.so.conf</strong>) on our system where all the paths to the libraries are mentioned. To do that, we should run <strong>ldconfig</strong>.</p>
<br/>
<p>We can check the required shared libraries for a program to run by using <strong>ldd</strong>:</p>
<pre>
$ ldd main
        linux-gate.so.1 =&gt;  (0x00dbb000)
        libm.so.6 =&gt; /lib/libm.so.6 (0x493c9000)
        libc.so.6 =&gt; /lib/libc.so.6 (0x4a439000)
        /lib/ld-linux.so.2 (0x4a417000)
</pre>
<p>This our case, the <strong>main</strong> program is using shared libraries for math and Standard C.</p>
<p>To make shared library with calc.o, we do the following:</p>
<pre>
$ gcc <font color="red">-shared -fPIC</font> -o libcalc.<font color="red">so</font> calc.o
</pre>
<p>The command tells the compiler driver to generate a shared library, <strong>libcalc.so</strong>, from the object module <strong>calc.o</strong>. The <strong>-fPIC</strong> option tells the compiler to generate <strong>position independent code (PIC)</strong>.</p>
<p>Now, suppose the primary object module is <strong>main.o</strong>, which has dependencies on <strong>calc.o </strong>. In this case, the linker is invoked with:</p>
<pre>
$ gcc main.o ./libcalc.so -lm
</pre>
<p>The command above makes an executable file, <strong>a.out</strong>, in a form that can be linked to <strong>libcalc.so</strong> at load time. However, <strong>a.out</strong> does not contain the object module <strong>calc.o</strong>, which would have been included had we created a static library instead of a shared library. The executable simply contains some relocation and symbol table information that allow references to code and data in <strong>libcalc.so</strong> to be resolved at run time. Thus, <strong>a.out</strong> here is a partially executable file that still has its dependency in <strong>libcalc.so</strong>.</p>
<p>The executable also contains a <strong>.interp</strong> section that has the name of the dynamic linker, which itself is a shared object on Linux systems, <strong>ld-linux.so</strong>. So, when the executable is loaded into memory, the loader passes control to the dynamic linker. 
The dynamic linker contains some start-up code that maps the shared libraries to the program's address space.</p>
<p> It then does the following:</p>
<ol>
<li>relocates the text and data of <strong>libcalc.so</strong> into memory segment</li>
<li>relocates any references in <strong>a.out</strong> to symbols defined by <strong>libcalc.so</strong></li>
</ol>
<img alt="linker_loader" src="images/libraries/linker_loader.png"/>
<p>
Then, the dynamic linker passes control to the application, and now the location of shared object is fixed in the memory.</p>
<p>Shared libraries can be loaded from applications even in the middle of their executions. An application can request a dynamic linker to load and link shared libraries, even without linking those shared libraries to the executable. Linux provides system calls, such as <strong>dlopen</strong> to load a shared object, <strong>dlsym</strong> to look up a symbol in that shared object , and <strong>dlclose</strong> to close the shared object.</p>
<p>We've already used some of the tools to explore object/executable files, here is the list of tools:</p>
<ol>
<li><strong>ar</strong><br/> creates static libraries.</li>
<li><strong>ldd</strong><br/> lists the shared libraries on which the object binary is dependent.</li>
<li><strong>nm</strong><br/> lists the symbols defined in the symbol table of an object file or a static library.</li>
<li><strong>objdump</strong><br/>to display all the information in an object binary file.</li>
<li><strong>strings</strong><br/> list all the printable strings in a binary file.</li>
<li><strong>strip</strong><br/> deletes the symbol table information.</li>
<li><strong>c++filt</strong><br/> demangle low-level names into user-level names (unix/linux command).</li>
</ol>
<br/>
<br/>
<div class="subtitle_2nd" id="linker_vs_loader">Linker vs Loader</div>
<p>Unlike some authors who prefer using combined word "link-loading, in the page, I've been using those separated from each other.</p>
<ol>
<li><strong>Linker</strong> <br/>
   After compilation, the fragments (compilation unit) of a program are glued together by a linker.<br/>
   Combines two or more objects (<strong>relocatable object</strong>) and supplies the information needed to allow references between them.<br/>
<strong>Relocation</strong> (loader does this as well) and the <strong>resolution of external references</strong> are performed by the linker.
  </li>
<li><strong>Loader</strong> <br/>
  Loading an <strong>executable object</strong> into <strong>memory</strong> for execution.
  </li>
</ol>
<p>Note:<br/>
<ol>
<li><strong>relocatable object</strong><br/>
  A relocatable object code is acceptable as input to a linker.<br/>
  A relocatable object file has following table information: import table, relocation table, and export table.
  </li>
<li><strong>executable object</strong><br/>
  Executable object code is acceptable as an input to a loader, and it can be brought into memory and run.<br/>
  Executable object file is distinguished by the fact that it contains no references to external symbols, and it also defines a starting address for execution.
  </li>
</ol>
</p>
<br/>
<br/>
<div class="subtitle_2nd" id="static_hiding">Static libraries with multiply defined symbols</div>
<p>Using static libraries can hide problems in case we defined the same function several times. Let's look at the following example, where <strong>a.c</strong> and <strong>b.c</strong> both defined <strong>who_are_you()</strong> function.</p>
<p>In the first build, we combine the two source files and make it into one archive. At link time, the linker will extract the first version of <strong>who_are_you()</strong> that it encounters. However, it will not give any warning regarding the presence of multiple definitions.</p>
<p>In the second build, instead of combining the two sources into one archive, the same code was linked using individual object files. Then, the linker fails to make the executable.</p>
<pre>
// a.c
#include &lt;stdio.h&gt;
void who_are_you()
{
    printf("I am A\n");
}

// b.c
#include &lt;stdio.h&gt;
void who_are_you()
{
    printf("I am B\n");
}

// main.c
#include &lt;stdio.h&gt;
void who_are_you();

int main()
{
   printf("calling who_are_you()\n");
   who_are_you();
   return 0;
}
</pre>
<p>Build Case I - link against an archive already combined a.o and b.o:</p>
<pre>
$ gcc -c a.c
$ gcc -c b.c
$ ar -r mylib.a a.o b.o
$ gcc main.c <font color="red">mylib.a</font>
$ ./a.out
calling who_are_you()
I am A
$ 
</pre>
<p>When we combine them into an archive and link into an executable, the linker extracts one definition out of two. In our case, it selected from <strong>a.c</strong>. However, the builds fails because of the multiply defined symbol if we link the object file directly and make an executable as shown in the example below:</p>
<p>Build Case II - individual link - a.o, b.o:</p>
<pre>
$ gcc main.c <font color="red">a.o b.o</font>
b.o: In function `who_are_you':
b.c:(.text+0x0): multiple definition of `who_are_you'
a.o:a.c:(.text+0x0): first defined here
collect2: error: ld returned 1 exit status
$ 
</pre>
<p>We get this behavior because lots of compilers do not <strong>cross-file checking (or optimization)</strong>, which means either the code held in the static library does not play a role in cross-file checking or the functions are not inlined from the static library into the executable.</p>
<p>To inspect what's in the library, we can use <strong>nm</strong> on the static library:</p>
<pre>
$ nm mylib.a

a.o:
                 U puts
0000000000000000 T who_are_you

b.o:
                 U puts
0000000000000000 T who_are_you
</pre>
<br/>
<br/>
<br/>
<div class="subtitle" id="porting_library">Library Porting</div>
<br/>
<div class="subtitle_2nd" id="porting_windows">Porting - Windows</div>
<p>In this example, we will try to create a small <strong>.dll</strong> file that has a single function, <strong>printHey()</strong>, which is called from the main routine in the <strong>main.cpp</strong> file. </p>
<img alt="my files" src="images/libraries/hey_files.png"/>
<br/>
<p>Here are the contents of the files:</p>
<pre>
// hey.h
#ifdef BUILD_BOGO_DLL
  #define BOGO_PRINT_API __declspec(dllexport)
#else
  #define BOGO_PRINT_API __declspec(dllimport)
#endif
extern "C" BOGO_PRINT_API void printHey();


// hey.cpp
#include &lt;iostream&gt;
#include "hey.h"
void printHey()  
{
   std::cout &lt;&lt; "Hey! Welcome to bogotobogo" &lt;&lt; std::endl;
}


// main.cpp
#include "hey.h"
int main()
{
  printHey();
  return 0;
}
</pre>
<p>If we want a function to be callable from a DLL on Windows, we must explicitly mark its declaration with the following:</p>
<pre>
__declspec(dllexport)
</pre>
<p>For example,</p>
<pre>
__declspec(dllexport) void MyFunction();
class __declspec(dllexport) MyClass;
</pre>
<p>In the opposite case, if we want to use an exported DLL function in an application, then we must prefix the function prototype with the following:</p>
<pre>
__declspec(dllimport)
</pre>
<p>Therefore, it's common to employ preprocessor macros to use the export declaration when building an API but the import decoration is needed when using the same API.</p>
<br/>
<img alt="cl_run" src="images/libraries/cl_hey.png"/>
<br/>
<p><strong>/LD</strong> instructs cl to create a <strong>.dll</strong> file. (It can be instructed to create other formats such as .exe or .obj.) <strong>/DBUILD_BOGO_DLL</strong> defines the <strong>BOGO_PRINT_API</strong> macro for this particular building process so that the <strong>printHey symbol</strong> is exported from this DLL. <strong>/EHsc</strong> will make catch clause not to catch asynchronous exceptions.</p>
<p>See <a href="make.html" target="_blank">make</a>.</p>

Let take a quick inspection of the sources and generated output. It reveals two important facts. As mentioned earlier, the Windows-specific syntax, <strong>__declspec(dllexport)</strong>, is needed to export any functions, variables, or classes from a DLL. Likewise, the Windows-specific syntax, <strong>__declspec(dllimport)</strong>, is needed to import any functions, variables, or classes from a DLL. 
<br/>
<p>Then, new files have been generated as shown below since the compilation generates the files: <strong>hey.dll</strong> and <strong>hey.lib</strong>. The <strong>hey.lib</strong> is used to link the main sources. </p>
<br/>
<br/>
<img alt="my files2" src="images/libraries/hey_files2.png"/>
<br/>
<br/>
<br/>
<img alt="generated_file" src="images/libraries/generated_file_dir.png"/>
<br/>
<br/>
<br/>
<p>To compile and link the main code, use the following command line: </p>
<img alt="cl main.cpp" src="images/libraries/cl_main.png"/>
<br/>
<br/>
<p>Now, we have application called <strong>main.exe</strong>:</p>
<br/>
<img alt="main_app" src="images/libraries/main_app.png"/>
<br/>
<br/>
<img alt="main_run" src="images/libraries/main_run.png"/>
<br/>
<p>As a quick summary, we can use a Visual C++ project to create one of three variants (single or multi-threaded) of a project:
<ol>
<li>Dynamic-link library (DLL or .dll)</li>
<li>Static library (LIB or .lib)</li>
<li>Executable (.exe)</li>
</ol>
For more complex variants, use a Visual Studio <a href="../CSharp/.netframework.html" target="_blank">.NET solution </a> which makes it possible to create and manage multiple projects.</p>
<br/>
<p>For more on DLL, please visit <br/>
<a href="../Win32API/Win32API_DLL.html" target="_blank">http://www.bogotobogo.com/Win32API/Win32API_DLL.php</a>.</p>
<br/>
<br/>
<br/>
<div class="subtitle_2nd" id="linux">Porting DLL to Linux/Unix</div>
<p>Modified <strong>hey.h</strong> looks like this:</p>
<pre>
// hey.h
#if defined (__GNUC__) 
  #define BOGO_PRINT_API __attribute__ ((__visibility__("default")))
#elif defined (WIN32)
  #ifdef BUILD_BOGO_DLL
    #define BOGO_PRINT_API __declspec(dllexport)
  #else
    #define BOGO_PRINT_API __declspec(dllimport)
  #endif
#endif
extern "C" BOGO_PRINT_API void printHey();
</pre>
<p>Using the GNU C++ compiler, we can simply use the <strong>-shared</strong> linker option to generate a <strong>.so</strong> file instead of an executable. On platforms where it is not the default behavior, we should also specify either the <strong>-fpic</strong> or the <strong>-fPIC</strong> option to instruct the compiler to emit <strong>position-independeet code (PIC)</strong>. This is needed because the code in a shared library may be loaded into a different memory location for different executables. So, it's important to generate PIC code for shared libraries so that user code deos not dependent on the absolute memory address of symbols. A shared library is potentially mapped to a new memory address every time it gets loaded. Therefore, it makes sense to generate the addresses of all variables and functions inside the library in a way that can be easily computed relative to the start address that the library is loaded to. This code is generated by the <strong>-fPIC</strong> option and makes the code relocatable. The <strong>-o</strong> option is used to specify the name of an output file, and the <strong>-shared</strong> option builds a shared library in which unresolved references are allowed.</p>
<pre>
g++ -c -fPIC hey.cpp -o hey.o
g++ -shared -Wl,-soname,libhey.so.1 -o libhey.so.1.0.1 hey.o
</pre>
<p>Every shared library has a special name called the <strong>soname</strong>. The soname has the prefix <strong>lib</strong>, the name of the library, the phrase <strong>.so</strong>, followed by a period and a version number that is incremented whenever the interface changes. On a working system a fully-qualified soname is simply a symbolic link to the shared library's <strong>real name</strong>.</p>
<p>Every shared library also has a <strong>real name</strong>, which is the filename containing the actual library code. The real name adds to the soname a period, a minor number, another period, and the release number. The last period and release number are optional. The minor number and release number support configuration control by letting you know exactly what version(s) of the library are installed. </p>
<p>The last command (g++ -shared ..), on successful, produces a shared library named <strong>libhey.so.1.0.1</strong>.</p>
<p>In that command, <strong>-W1</strong> passes options to linker.
In this example, the options to be passed on to the linker:
<ol>
<li> <strong>-soname libhey.so.1</strong></li>
<li> the name passed with the <strong>-o</strong> option is passed to <strong>g++</strong>.</li>
</ol>
</p>
<p>After those commands, we have the following in the list:</p>
<pre>
[]$ ls
hey.cpp hey.h hey.o libhey.so.1.0.1 main.cpp
</pre>
<p>Now we have successfully created a shared library named <strong>libhey.so.1.0.1</strong>. Let us see how to include this shared library in our application.
</p>
<p>symbolic link:
<pre>
ln -sf libhey.so.1.0.1 libhey.so
ln -sf libhey.so.1.0.1 libhey.so.1
</pre>
<ol>
<li>The link to <strong>./libhey.so</strong> allows the naming convention for the compile flag <strong>-lhey</strong> to work.</li>
<li>
The link to <strong>./libhey.so.1</strong> allows the run time binding to work.</li>
</ol>
<br/>
<img alt="linux_ls" src="images/libraries/linux_ls.png"/>
<br/><br/>
<pre>
g++ -o main main.cpp -L. -lhey
</pre>
<ol>
<li>The <strong>-l</strong> option tells the compiler to look for a file named libsomething.so The something is specified by the argument immediately following the <strong>-l</strong>. i.e. <strong>-lhey</strong></li>
<li>The <strong>-L</strong> option tells the compiler where to find the library. The path to the directory containing the shared libraries is followd by <strong>-L</strong>. If no <strong>-L</strong> is specified, the compiler will search the usual locations.</li>
<li><strong>-L.</strong> means looking for the shared libraries in the current directory.</li>
</ol>
<p>
If compilation is successful an executable named <strong>main</strong> is created. We can check if our library is include successfully into the executable by linker using the following command:</p>
<pre>ldd main</pre>
<img alt="ldd_main" src="images/libraries/ldd_main.png"/>
<br/>
<p>We can see that linker cannot find our shared library <strong>libhey.so</strong>.<br/>
When we run an executable that depends on a dynamic library, linux system will search for the standard library locations, such as <strong>/lib</strong> and <strong>/usr/lib</strong>. If the <strong>.so</strong> file cannot be found in those places, the executable fail to start. The <strong>ldd</strong> commnad, as shown above, can be used to tell us if the system cannot find any dependent dynamic library. There are three main options to resolve this issue:</p>
<ol>
<li>We have to ensure that our library is installed in the standard locations.</li>
<li>The <strong>LD_LIBRARY_PATH</strong> environment variable can be set to argument the default library search parh with a colon-separated list of directories.</li>
<li>We can use the <strong>rpath (run path)</strong> linker option to burn the preferred path to search for dynamic libraries into executable. The following line of compile will produce an executable that will cause the system to search in <strong>/usr/local/lib</strong> for any dynamic libraries:
<pre>
g++ -o main main.cpp -L. -lhey -Wl,-rpath,/usr/local/lib
</pre>
</li>
</ol>
<p>In our case, we will set the environment variable <strong>LD_LIBRARY_PATH</strong> to the directory containing the shared libraries, which is current directory ("."):</p>
<pre>
export LD_LIBRARY_PATH=.  
</pre>
<p>If we do <strong>ldd main</strong> again:</p>
<img alt="ldd_main2" src="images/libraries/ldd_main2.png"/>
<br/><br/>
<p>Now, if we issue <strong>./main</strong>, we get:</p>
<pre>
Hey! Wlecome to bogotobogo
</pre>
<br/>
<br/>
<div class="subtitle_2nd" id="linux_static">Creating Static Libraries on Linux</div>
<p>On linux, static libraries is an archive of object files. We use <strong>ar</strong> to compile object files into a static library. The command below shows how we compile <strong>hey.cpp</strong> file to <strong>.o</strong> and create a static library, <strong>libhey.a</strong> from the object files:</p>
<pre>
ar -crs libhey.a hey.o
</pre>
<p>The <strong>-c</strong> option to <strong>ar</strong> creates an archive, <strong>-r</strong> inserts the supplied <strong>.o</strong> file into that archive, and <strong>-s</strong> creates an index for the archive.</p>
<p>Then, we can link against the library using <strong>-l</strong> option to <strong>ld</strong> or <strong>g++</strong>. The <strong>-L</strong> linker option is used to specify the directory where the  library can be found:</p>
<pre>
$ g++ -o main main.cpp -L. -lhey
$ ./main
Hey! Welcome to bogotobogo
$
</pre>
<p>Also, see <a href="#building_libraries_static">Building Library - static</a></p>
<br/>
<p>More to come...</p>
<br/>
<p>Other linux tips, see <a href="../Linux/linux_tips1.html" target="_blank">Linux Tips</a></p>
<br/><br/><br/>
<br/>
<img alt="mt" src="images/libraries/mt.png"/>
</p></p>
<div>
    
<div class="custom-disqus">
<!-- Disqus -->
<div id="disqus_thread"></div>
<script>
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
     
/* Disabling Disqus 4/26/2017
    var disqus_config = function () {
        this.page.url = window.location.href;
        this.page.identifier = document.title;
    };
    
    (function() {  // REQUIRED CONFIGURATION VARIABLE: EDIT THE SHORTNAME BELOW
        var d = document, s = d.createElement('script');
        
        s.src = '//bogotobogocom.disqus.com/embed.js';  // IMPORTANT: Replace EXAMPLE with your forum shortname!
        
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
 Disabling Disqus */    
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

<!-- Disqus ends here -->
</div>

<br>
<br>
<br>
<br></div>
          </div>
          <div class="col-sm-3 col-md-3 col-xs-3">
  	    <div class="g-person" data-width="1" data-href="//plus.google.com/111664369941456137911" data-rel="author">
  	    </div>
            <div class="resume">
              <p>Ph.D. / Golden Gate Ave, San Francisco / Seoul National Univ / Carnegie Mellon / UC Berkeley / DevOps / Deep Learning / Visualization</p>
            </div>
  	    <div>
                
<div class="skyscraper">
  <br>


<div class="skyscraper">

  <div class="bogo-paypal">
    <!-- Paypal Donate button -->
    <p><i>Sponsor Open Source development activities and free contents for everyone.</i></p>

    <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
    <input type="hidden" name="cmd" value="_s-xclick">
    <input type="hidden" name="encrypted" value="-----BEGIN PKCS7-----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-----END PKCS7-----
    ">
    <input type="image" src="https://www.paypalobjects.com/webstatic/en_US/btn/btn_donate_pp_142x27.png" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
    <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
    </form>
    <p><i>Thank you.</i></p>
    <p>- <a href="../about_us.html" target="_blank">K Hong</a></p>
    <!-- End of Paypal Donate button   -->
  </div>


  <script async src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- bogo_skyscraper -->
  <ins class="adsbygoogle"
       style="display:inline-block;width:160px;height:600px"
       data-ad-client="ca-pub-4716428189734495"
       data-ad-slot="5321096966"></ins>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({});
  </script>


  <br><br>





</div></div>




<!-- Place this tag after the last widget tag. -->
<script type="text/javascript">
        (function() {
          var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
          po.src = 'https://apis.google.com/js/platform.js';
          var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
        })();
</script>
  	    </div>
  	    <div class="side_menu">
                <br /><br />

<div class="skyscraper">
  <br>


<div class="skyscraper">

  <div class="bogo-paypal">
    <!-- Paypal Donate button -->
    <p><i>Sponsor Open Source development activities and free contents for everyone.</i></p>

    <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
    <input type="hidden" name="cmd" value="_s-xclick">
    <input type="hidden" name="encrypted" value="-----BEGIN PKCS7-----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-----END PKCS7-----
    ">
    <input type="image" src="https://www.paypalobjects.com/webstatic/en_US/btn/btn_donate_pp_142x27.png" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
    <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
    </form>
    <p><i>Thank you.</i></p>
    <p>- <a href="../about_us.html" target="_blank">K Hong</a></p>
    <!-- End of Paypal Donate button   -->
  </div>


  <script async src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- bogo_skyscraper -->
  <ins class="adsbygoogle"
       style="display:inline-block;width:160px;height:600px"
       data-ad-client="ca-pub-4716428189734495"
       data-ad-slot="5321096966"></ins>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({});
  </script>


  <br><br>





</div></div>

<!-- cplusplus_list_INNER.php -->
<br><br><br>
<h1>C++ Tutorials</h1>
   <a href="cpptut.html">C++ Home</a> 
   <br><br>
   <a href="../Algorithms/algorithms.html">Algorithms & Data Structures in C++ ...</a>
   <br><br>
   <a href="application_visual_studio_2013.html">Application (UI) - using Windows Forms (Visual Studio 2013/2012)</a>
   <br><br>
   <a href="autoptr.html">auto_ptr</a>
   <br><br>
   <a href="binarytree.html">Binary Tree Example Code</a>
   <br><br>
   <a href="blackjackQT.html">Blackjack with Qt</a>
   <br><br>
   <a href="boost.html">Boost - shared_ptr, weak_ptr, mpl, lambda, etc.</a>
   <br><br>
   <a href="Boost/boost_AsynchIO_asio_tcpip_socket_server_client_timer_A.html">Boost.Asio (Socket Programming - Asynchronous TCP/IP)...</a>
   <br><br>
   <a href="class.html">Classes and Structs</a> 
   <br><br>
   <a href="constructor.html">Constructor</a> 
   <br><br>
   <a href="cplusplus11.html">C++11(C++0x): rvalue references, move constructor, and lambda, etc.</a> 
   <br><br>
   <a href="cpptesting.html">C++ API Testing</a>
   <br><br>
   <a href="cplusplus_keywords.html">C++ Keywords - const, volatile, etc.</a>
   <br><br>
   <a href="CppCrashDebuggingMemoryLeak.html">Debugging Crash & Memory Leak</a>
   <br><br>
   <a href="../DesignPatterns/introduction.html">Design Patterns in C++ ...</a>
   <br><br>
   <a href="dynamic_cast.html">Dynamic Cast Operator</a>
   <br><br>
   <a href="eclipse_CDT_JNI_MinGW_64bit.html">Eclipse CDT / JNI (Java Native Interface) / MinGW</a>
   <br><br>
   <a href="embeddedSystemsProgramming.html">Embedded Systems Programming I - Introduction</a>
   <br><br>
   <a href="embeddedSystemsProgramming_gnu_toolchain_ARM_cross_compiler.html">Embedded Systems Programming II - gcc ARM Toolchain and Simple Code on Ubuntu and Fedora</a>
   <br><br>
   <a href="embeddedSystemsProgramming_GNU_ARM_ToolChain_Eclipse_CDT_plugin.html">Embedded Systems Programming III - Eclipse CDT Plugin for gcc ARM Toolchain </a>
   <br><br>
   <a href="exceptions.html">Exceptions</a> 
   <br><br>
   <a href="friendclass.html">Friend Functions and Friend Classes</a>
   <br><br>
   <a href="fstream_input_output.html">fstream: input & output</a>
   <br><br>
   <a href="function_overloading.html">Function Overloading</a>
   <br><br>
   <a href="functor_function_object_stl_intro.html">Functors (Function Objects) I - Introduction</a>
   <br><br>
   <a href="functor_function_object_stl_2.html">Functors (Function Objects) II - Converting function to functor</a>
   <br><br>
   <a href="functors.html">Functors (Function Objects) - General</a>
   <br><br>
   <br><br>
   <a href="Git/Git_GitHub_Express.html">Git and GitHub Express...</a>
   <br><br>
   <a href="google_unit_test_gtest.html">GTest (Google Unit Test) with Visual Studio 2012</a>
   <br><br>
   <a href="multipleinheritance.html">Inheritance & Virtual Inheritance (multiple inheritance) </a>
   <br><br>
   <a href="libraries.html">Libraries - Static, Shared (Dynamic)</a>
   <br><br>
   <a href="linked_list_basics.html">Linked List Basics</a>
   <br><br>
   <a href="linkedlist.html">Linked List Examples</a>
   <br><br>
   <a href="make.html">make & CMake</a>
   <br><br>
   <a href="gnumake.html">make (gnu)</a>
   <br><br>
   <a href="memoryallocation.html">Memory Allocation</a>
   <br><br>
   <a href="multithreaded.html">Multi-Threaded Programming - Terminology - Semaphore, Mutex, Priority Inversion etc.</a>
   <br><br>
   <a href="multithreading_win32A.html">Multi-Threaded Programming II -  Native Thread for Win32 (A) </a>
   <br><br>
   <a href="multithreading_win32B.html">Multi-Threaded Programming II -  Native Thread for Win32 (B) </a>
   <br><br>
   <a href="multithreading_win32C.html">Multi-Threaded Programming II -  Native Thread for Win32 (C) </a>
   <br><br>
   <a href="multithreading_win32.html">Multi-Threaded Programming II - C++ Thread for Win32</a>
   <br><br>
   <a href="multithreading_pthread.html">Multi-Threaded Programming III - C/C++ Class Thread for Pthreads</a>
   <br><br>
   <a href="multithreading_ipc.html">MultiThreading/Parallel Programming - IPC</a>
   <br><br>
   <a href="multithreaded4_cplusplus11.html">Multi-Threaded Programming with C++11 Part A (start, join(), detach(), and ownership)</a>
   <br><br>
   <a href="multithreaded4_cplusplus11B.html">Multi-Threaded Programming with C++11 Part B (Sharing Data - mutex, and race conditions, and deadlock)</a>
   <br><br>
   <a href="multithreadedDebugging.html">Multithread Debugging</a>
   <br><br>
   <a href="object_returning.html">Object Returning</a>
   <br><br>
   <a href="slicing.html">Object Slicing and Virtual Table</a>
   <br><br>
   <a href="opencv.html">OpenCV with C++</a> 
   <br><br>
   <a href="operatoroverloading.html">Operator Overloading I</a> 
   <br><br>
   <a href="operator_oveloading_self_assignment.html">Operator Overloading II - self assignment</a> 
   <br><br>
   <a href="valuevsreference.html">Pass by Value vs. Pass by Reference</a>
   <br><br>
   <a href="pointers.html">Pointers</a>
   <br><br>
   <a href="pointers2_voidpointers_arrays.html">Pointers II - void pointers & arrays</a>
   <br><br>
   <a href="pointers3_function_multidimensional_arrays.html">Pointers III - pointer to function & multi-dimensional arrays</a>
   <br><br>
   <a href="preprocessor_macro.html">Preprocessor - Macro</a>
   <br><br>
   <a href="private_inheritance.html">Private Inheritance</a>
   <br><br>
   <a href="../python/python_cpp_sip.html">Python & C++ with SIP</a>
   <br><br>
   <a href="RandomNumbers.html">(Pseudo)-random numbers in C++</a>
   <br><br>
   <a href="references.html">References for Built-in Types</a>
   <br><br>
   <a href="sockets_server_client.html">Socket - Server & Client</a>
   <br><br>
    <a href="sockets_server_client_QT.html">Socket - Server & Client with Qt (Asynchronous / Multithreading / ThreadPool etc.)</a>
   <br><br>
   <a href="stackunwinding.html">Stack Unwinding</a>
   <br><br>
   <a href="stl_vector_list.html">Standard Template Library (STL) I - Vector & List</a>
   <br><br>
   <a href="stl2_map.html">Standard Template Library (STL) II - Maps</a>
   <br><br>
   <a href="stl2_unorderd_map_cpp11_hash_table_hash_function.html">Standard Template Library (STL) II - unordered_map</a>
   <br><br>
   <a href="stl2B_set.html">Standard Template Library (STL) II - Sets</a>
   <br><br>
   <a href="stl3_iterators.html">Standard Template Library (STL) III - Iterators</a>
   <br><br>
   <a href="stl4_algorithms.html">Standard Template Library (STL) IV - Algorithms</a>
   <br><br>
   <a href="stl5_function_objects.html">Standard Template Library (STL) V - Function Objects</a>
   <br><br>
   <a href="statics.html">Static Variables and Static Class Members</a>
   <br><br>
   <a href="string.html">String</a> 
   <br><br>
   <a href="string2.html">String II - sstream etc.</a> 
   <br><br>
   <a href="assembly.html">Taste of Assembly</a>
   <br><br>
   <a href="templates.html">Templates</a>
   <br><br>
   <a href="template_specialization_function_class.html">Template Specialization</a>
   <br><br>
   <a href="template_specialization_traits.html">Template Specialization - Traits</a>
   <br><br>
   <a href="template_declaration_definition_header_implementation_file.html">Template Implementation & Compiler (.h or .cpp?)</a>
   <br><br>
   <a href="this_pointer.html">The this Pointer</a>
   <br><br>
   <a href="typecast.html">Type Cast Operators</a>
   <br><br>
   <a href="upcasting_downcasting.html">Upcasting and Downcasting</a>
   <br><br>
   <a href="virtual_destructors_shared_ptr.html">Virtual Destructor & boost::shared_ptr</a>
   <br><br>
   <a href="virtualfunctions.html">Virtual Functions</a>
   <br><br>
   <br><br>
   <i>Programming Questions and Solutions &darr;</i>
      <br><br>
       <a href="quiz_strings_arrays.html">Strings and Arrays</a>
       <br><br>
       <a href="quiz_linkedlist.html">Linked List</a>
       <br><br>
       <a href="quiz_recursion.html">Recursion</a>
       <br><br>
       <a href="quiz_bit_manipulation.html">Bit Manipulation</a> 
       <br><br>
       <a href="smallprograms.html">Small Programs (string, memory functions etc.)</a>
       <br><br>
       <a href="quiz_math_probability.html">Math & Probability</a>
       <br><br>
       <a href="quiz_multithreading.html">Multithreading</a>
       <br><br>
       <a href="google_interview_questions.html">140 Questions by Google</a> 
       <br><br>
       <br><br>
   <a href="../Qt/Qt5_Creating_QtQuick2_QML_Application_Animation_A.html">Qt 5 EXPRESS...</a>
   <br><br>
   <a href="../Win32API/Win32API_DLL.html">Win32 DLL ...</a>
   <br><br>
   <a href="cppNews.html">Articles On C++</a> 
   <br><br>
   <a href="C11/C11_initializer_list.html">What's new in C++11...</a> 
   <br><br>
   <a href="C11/1_C11_creating_thread.html">C++11 Threads EXPRESS...</a> 
   <br><br>
   <a href="../OpenCV/opencv_3_tutorial_imgproc_gausian_median_blur_bilateral_filter_image_smoothing.html">OpenCV...</a> 


<br />



  		
  	    </div>
          </div>
        </div>
      </div> <!-- / section -->
    </div>
  </div>

  <br>
<br>
<br>
<br>

<div class="custom-disqus">
<!-- Disqus -->
<!-- Disqus disabled Oct 17, 2016 
<div id="disqus_thread"></div>
<script>
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
     
    var disqus_config = function () {
        this.page.url = window.location.href;
        this.page.identifier = document.title;
    };
    
    (function() {  // REQUIRED CONFIGURATION VARIABLE: EDIT THE SHORTNAME BELOW
        var d = document, s = d.createElement('script');
        
        s.src = '//bogotobogocom.disqus.com/embed.js';  // IMPORTANT: Replace EXAMPLE with your forum shortname!
        
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
     
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
---- Disable -->
<!-- Disqus ends here -->
</div>

<br>
<br>
<br>
<br>


<!-- footer starts here -->
<footer id="footer">
  <div class="container">
    <div class="row">
      <div class="col-md-4 widget">
        <h3 class="widget-title">Contact</h3>
        <div class="widget-body">
          <p>BogoToBogo<br>
            <a href="mailto:#">contactus@bogotobogo.com</a><br>
          </p>  
        </div>
      </div>

      <div class="col-md-4 widget">
        <h3 class="widget-title">Follow Bogotobogo</h3>
        <div class="widget-body">

          <!--
          <ul>
            <li><a href="https://www.facebook.com/KHongSanFrancisco" target="_unknown"><i class="fa fa-facebook"></i></a></li>
            <li><a href="https://twitter.com/KHongTwit" target="_unknown"><i class="fa fa-twitter"></i></a></li>
            <li><a href="https://plus.google.com/u/0/+KHongSanFrancisco/posts" target="_unknown"><i class="fa fa-google-plus"></i> </a></li>
          </ul>
          -->
             <h3>
             <a href="https://www.facebook.com/KHongSanFrancisco" target="_unknown"><i class="fa fa-facebook"></i></a> 
             <a href="https://twitter.com/KHongTwit" target="_unknown"><i class="fa fa-twitter"></i></a> 
             <a href="https://plus.google.com/u/0/+KHongSanFrancisco/posts" target="_unknown"><i class="fa fa-google-plus"></i> </a> 
             </h3>

        </div>
      </div>

      <div class="col-md-4 widget">
        <h3 class="widget-title"><a href="../about_us.html">About Us</a></h3>
        <div class="widget-body">
            <a href="mailto:#">contactus@bogotobogo.com</a><br>
            <br>
            Golden Gate Ave, San Francisco, CA 94115
          </p>  
        </div>
      </div>

    </div> 
  </div>
</footer>

<footer id="underfooter">
  <div class="container">
    <div class="row">
      
      <div class="col-md-6 widget">
        <div class="widget-body">
          <p>Golden Gate Ave, San Francisco, CA 94115 </p>
        </div>
      </div>

      <div class="col-md-6 widget">
        <div class="widget-body">
          <p class="text-right">
            Copyright &copy; 2016, bogotobogo<br> 
            Design: <a href="../index.html" rel="designer">Web Master</a> </p>
        </div>
      </div>

    </div>
  </div>
</footer>

  <!-- JavaScript libs are placed at the end of the document so the pages load faster -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
<script type="text/javascript"
     src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- D3.js -->
<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>

<!-- Google Analytics -->
<script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-12016988-2']);
    _gaq.push(['_trackPageview']);
    
    (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>

<!-- Google Analytics --> 
<!-- We need this for Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-43017326-1', 'bogotobogo.com');
  ga('send', 'pageview');

</script>
  
<!-- Google+ -->
<script type="text/javascript" src="http://apis.google.com/js/plusone.js"></script>

</body>

<!-- Mirrored from www.bogotobogo.com/cplusplus/libraries.php by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 11 Dec 2017 14:59:41 GMT -->
</html>

