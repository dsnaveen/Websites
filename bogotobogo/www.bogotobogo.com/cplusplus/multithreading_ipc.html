<!DOCTYPE html>

<!-- Mirrored from www.bogotobogo.com/cplusplus/multithreading_ipc.php by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 11 Dec 2017 15:00:47 GMT -->
<head>
  <title>C++ Tutorial: Multi-Threaded Programming - C++ Class Thread for Pthreads - 2017</title>
  <meta content="C++ Tutorial: Multi-Threaded Programming III IPC 2014, MultiThreading Programming, Pthreads(), Runnable, join(), start(), sem_wait, semaphores, mutexes, C++ Threads for Pthread, IPC, message queue, signal, pipes" name="description" />
  <meta content="C++ Tutorial, Multi-Threaded Programming IPC, MultiThreading Programming, Pthreads(), Runnable, join(), start(), sem_wait, semaphores, mutexes, C++ Threads for Pthread, IPC, message queue, signal, pipes" name="keywords" />
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.no-icons.min.css" rel="stylesheet">
  <link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Alice|Open+Sans:400,300,700">
  <link rel="stylesheet" href="../public/css/app.css">
  <link rel="stylesheet" href="../public/css/styles.css">
  <link rel="stylesheet" href="../public/css/bogostyleWidePreNew.css">
</head>

<body class="home">
    <nav class="navbar navbar-default navbar-fixed-top">
    <div class="container-fluid">      
      <div class="navbar-header">
        <!--<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar"> -->
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse" aria-expanded="false" aria-controls="navbar"> 
          <span class="sr-only">Toggle navigation</span> 
          <span class="icon-bar"></span> 
          <span class="icon-bar"></span> 
          <span class="icon-bar"></span> 
        </button>
        <a class="navbar-brand" href="../index-2.html">BogoToBogo</a>
      </div>
      
      <div class="navbar-collapse collapse">
        
        <ul class="nav navbar-nav">
          <li class="active"><a href="../index-2.html">Home</a></li>
          <li><a href="../about_us.html">About</a></li>
          <li><a href="../Hadoop/BigData_hadoop_Install_on_ubuntu_single_node_cluster.html">Big Data</a></li>
          <li><a href="../python/scikit-learn/Artificial-Neural-Network-ANN-1-Introduction.html">Machine Learning</a></li>
          <li><a href="../AngularJS/AngularJS_Introduction.html">AngularJS</a></li> 
          <li><a href="../python/pytut.html">Python</a></li>
          <li><a href="cpptut.html">C++</a></li>
          <li><a href="../DevOps/DevOps_Jenkins_Chef_Puppet_Graphite_Logstash.html">DevOps </a></li>
          <li><a href="../Algorithms/algorithms.html">Algorithms</a></li> 
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">More...<b class="caret"></b></a>
            <ul class="dropdown-menu">
           
              <li><a href="../Qt/Qt5_Creating_QtQuick2_QML_Application_Animation_A.html">Qt 5</a></li>                           
              <li><a href="../Android/android.html">Android</a></li>
              
              <li><a href="../Linux/linux_tips1.html">Linux</a></li>
              <li><a href="../Java/tutorials/on_java.html">Java</a></li>
              <li><a href="../CSharp/.netframework.html">CSharp</a></li>
              <li><a href="../VideoStreaming/videostreaming_etc.html">Video Streaming</a></li>
              <li><a href="../FFMpeg/ffmpeg_fade_in_fade_out_transitions_effects_filters_slideshow_concat.html">FFmpeg</a></li>
              <li><a href="../Matlab/Matlab_Tutorial_Manipulating_Audio_I_Reverse_Delay_Tone_Control_Changing_Speed_Removing_Vocals.html">Matlab</a></li>
              <li><a href="../python/Django/Python_Django_Forums_Shared_Host.html">Django 1.8</a></li>
              <li><a href="../Laravel5/Laravel5_ToDo_List_Sample.html">Laravel 5.2</a></li>
              <li><a href="../RubyOnRails/RubyOnRails.html">Ruby On Rails</a></li>
              <li><a href="../HTML5/HTML5_Tutorial.html">HTML5 & CSS</a></li>
              <li><a href="../AmazingPlaces/index.html" target="_blank">
<img src="../Menus/MenuIcons/Earth_8px_transparent_background.png"
width="24" height="24"/>Earth</a> </li>
            </ul>
          </li>
        </ul>      
      </div>
    </div>  
  </nav>  

  <div id="main">
    <div class="container">
      <div class="row section featured topspace">
        <div class="row">
          <div class="col-sm-9 col-md-9 col-xs-9">
            <h2 class="section-title">C++ Tutorial
MultiThreading/Parallel Programming IPC 
    <g:plusone></g:plusone></h2>
            <div class="icon-image">
                 <img src="images/cplusplus_icon.png" alt="cplusplus_icon.png"/>
            </div>
            <div class="SocialLinks">
  <span class='st__large' displayText=''></span>
  <br><br>
  <div align="center">
  <span class='st_facebook_large' displayText='Facebook'></span>
  <span class='st_twitter_large' displayText='Tweet'></span>
  <span class='st_linkedin_large' displayText='LinkedIn'></span>
  </div>
  <br><br>
  <script type="text/javascript" src="http://w.sharethis.com/button/buttons.js"></script>
  <script type="text/javascript">stLight.options({publisher: "b9569c43-5f56-4501-92f0-4bf4aa8fceb0", doNotHash: false, doNotCopy: true, hashAddressBar: false});</script>
</div>

<div id="bookmarkshare">
  <script type="text/javascript">var addthis_config = {"data_track_clickback":true};</script>
  <a class="addthis_button" href="http://www.addthis.com/bookmark.php?v=250&amp;username=khhong7"><img src="http://s7.addthis.com/static/btn/v2/lg-share-en.gif" width="125" height="16" alt="Bookmark and Share" style="border:0"/></a>
  <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#username=khhong7"></script>
</div>

<br>
<hr>
<br>


<!-- Google bogo1 ad -->
<!-- Google search box -->



<!-- bogo1 -->
<div>
  <script async src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- bogo1 -->
  <ins class="adsbygoogle"
     style="display:inline-block;width:728px;height:90px"
     data-ad-client="ca-pub-4716428189734495"
     data-ad-slot="6542308167"></ins>
  <script>
   (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


<!-- Google search box -->
<div class="AdSenseSearch">
  bogotobogo.com site search:
  <form action="http://www.google.com/" id="cse-search-box" target="_blank">
    <div>
      <input type="hidden" name="cx" value="partner-pub-4716428189734495:1794050961" />
      <input type="hidden" name="ie" value="UTF-8" />
      <!--<input type="text" name="q" size="55" />-->
      <input type="text" name="q" size="" width="90%"/>
      <input type="submit" name="sa" value="Search" />
    </div>
  </form>
  <script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en"></script>
</div>




<hr>
            <br><br><br>
<div class="subtitle" id="IPC">MultiThread/Multicore Programming : IPC</div>
<p>All multithread/multicore programming need some communication between either the threads or the processes.</p>

<!-- Google bogo_square_ad -->
<div>
  <script type="text/javascript">
    google_ad_client = "ca-pub-4716428189734495";
    /* bogo_LargeRectangle_336_280 */
    google_ad_slot = "2712696561";
    google_ad_width = 336;
    google_ad_height = 280;
  </script>
  <script type="text/javascript"
    src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
  </script>
</div>
<br>





<p>For instance, one thread might be signaling to another thread: </p>
<ol>
<li>by sending <strong>signals</strong> to indicate that an event has occurred</li>
<li>by placing a <strong>message on a queue</strong> to exchange</li>
<li>by passing data via <strong>pipes</strong> (named pipe: two way, unnamed pipe: one way communication) </li>
<li>or network stack (sockets) can be used which usually involves a <strong>client-server</strong> model</li>
<li>or the threads/processes can <strong>share memory</strong>. So, when one process changes the contents of the shared memory, all of the other
processes can immediately see the changes.</li>
</ol>
<p>In this chapter, we will be focused on those several ways of communications listed above mainly focused on Linux system.</p>
<br/>
<img alt="IPC_diagram.png" src="images/multithread_ipc/IPC_diagram.png"/>
<p>Picture from "The Linux Programmming Interface".</p>
<br/>
<br/>
<br/>
<div class="subtitle" id="sharing_memory">Sharing memory between processes - mutex and variable sharing</div>
<p>Usually, different processes are not share their memories. By default, all processes have independent address space. So, sharing memory between processes is complicated. However, it is possible setting up multiple processes to share the same memory space, and we need to preconfigure regions of memory that can be shared between different processes.</p>
<p>We can create shared memory segment by using <strong>shm_open()</strong>.<br/>
The <strong>shm_open()</strong> call establishes a connection between a <strong>shared memory object</strong> and a <strong>file descriptor</strong>. It creates an open file description that refers to the shared memory object and a file descriptor that refers to that open file description. The file descriptor is used by other functions to refer to that shared memory object.</p>
<pre>
#include &lt;sys/mman.h&gt;
int shm_open(const char *name, int oflag, mode_t mode);
</pre>
<p>This function takes a name for the segment, a size, and a set of flags for the created shared memory.</p>
<p>The <strong>name</strong> argument points to a string naming a shared memory object. If successful, <strong>shm_open()</strong> returns a file descriptor for the shared memory object that is the lowest numbered file descriptor not currently open for that process. The <strong>name</strong> is a string with the first character with '/'.</p>
<p>
The file status flags and file access modes of the open file description are according to the value of <strong>oflag</strong>. The <strong>oflag</strong> argument is the bitwise-inclusive OR of the following flags defined in the <strong><fcntl.h></fcntl.h></strong> header.</p>
<ol>
<li><strong>O_RDONLY</strong> will create a read-only segment.</li>
<li><strong>O_RDWR</strong> will create a segment that we can read and write from/to the memory segment. </li>
<li><strong>O_CREAT</strong> creates the segment if it does not exist or a handle to it if it does exist. </li>
<li><strong>O_EXCL</strong> will return an error if the segment already exists.</li>
</ol>
<p>The last parameters are the file access permissions.</p>
<p>The memory segment will be created if it does not already exist. We can set the size of the memory segment using <strong>ftruncate()</strong> by passing the file descriptor of the segment with the size parameter:</p>
<pre>
#include &lt;unistd.h&gt;
int ftruncate(int file_descriptor, off_t length);  
</pre>
<p>With the a handle identifier returned from the <strong>shm_open()</strong>, we can map the shared memory region into the address space of our process by attaching the segment with a call to <strong>mmap()</strong>:</p>
<pre>
#include &lt;sys/mman.h&gt;
void *mmap(void *addr, size_t len, int prot, int flags, int fd, off_t offset);
</pre>
<p>The <strong>mmap()</strong> function establishes a mapping between the address space of the process for <strong>len</strong> bytes to the memory object represented by the file descriptor <strong>fd</strong> at <strong>offset</strong> off for <strong>len</strong> bytes.</p>
<ol>
<li><strong>void *addr</strong>: The start address of the memory segment</li>
<li><strong>size_t len</strong>: The size of the memory segment in bytes</li>
<li><strong>int prot</strong>: The protection flag for the memory segment. 
    <ol>
<li>PROT_EXEC - for pages that can be executed</li>
<li>PROT_READ - for pages that can be read</li>
<li>PROT_WRITE - for pages that can be written</li>
</ol>
</li>
<li><strong>int flags</strong>: The sharing flag. <strong>MAP_SHARED</strong> to share the segment with other processes or <strong>MAP_PRIVATE</strong> to keep the segment private to the current process.</li>
<li><strong>int fd</strong>: The file descriptor of the shared memory.</li>
<li><strong>off_t offset</strong>: Offset into the shared memory segment.</li>
</ol>
<p>The <strong>mmap()</strong> returns a pointer to the shared memory segment. After the process finished, it can unmap it from the address space of the process using <strong>munmap()</strong> call:</p>
<pre>
#include &lt;sys/mman.h&gt;
int munmap(void *addr, size_t len)
</pre>
<p>The shared memory can be removed from the system using <strong>shm_unlink()</strong>. It causes the shared memory to be deleted when the last process detaches from it.</p>
<pre>
#include &lt;sys/mman.h&gt;
int shm_unlink(const char *name)
</pre>
<p>The process of creating and deleting a shared memory should look like this:</p>
<pre>
id = Open shared memory(descriptor);
memory = map shared memory(id);
...
memory[10];
...
close shared memory
</pre>
<p>The following code is the implementation of the pseudo code above.<br/>
It shows how a process fork (for more on fork(), visit <a href="../Linux/linux_process_and_signals.html#fork" target="_blank">Linux Process and Signals</a>) a child process and then use shared memory with the child process.</p>
The parent process sets up a mutex that's shared with its child process. Then, the parent forks a child, and wait for the child to complete (<strong>waitpid()</strong>).
<p>The child can share a memory segment as well as the mutex and variables contained in the segment. This is because the child process receives a copy of the memory of its parent process when the child process is forked by the parent process.</p>
<pre>
/* m.cpp */

#include &lt;stdio.h&gt;
#include &lt;unistd.h&gt;
#include &lt;fcntl.h&gt;
#include &lt;sys/wait.h&gt;
#include &lt;sys/mman.h&gt;
#include &lt;pthread.h&gt;

int main()
{
   pthread_mutexattr_t attributes;

   <font color="blue">pthread_mutexattr_init</font>(&amp;attributes;);
   <font color="blue">pthread_mutexattr_setpshared</font>(&amp;attributes;, PTHREAD_PROCESS_SHARED);

   int handle = <font color="red">shm_open</font>("/shm", O_CREAT | O_RDWR, 0777);
   <font color="red">ftruncate</font>(handle, 2048*sizeof(int));
   char *memory = (char *)<font color="red">mmap</font>(0, 2048*sizeof(int), PROT_READ | PROT_WRITE,
                       MAP_SHARED, handle, 0);

   // mutex share
   pthread_mutex_t *mutex = (pthread_mutex_t*)memory;
   pthread_mutex_init(mutex, &amp;attributes;);

   <font color="blue">pthread_mutexattr_destroy</font>(&amp;attributes;);

   // variable share
   <font color="red">int *count = (int*)(memory + sizeof(pthread_mutex_t));</font>
   *count = 0;
   printf("Initial count = %d\n", *count);

   int value_returned_from_child = 0;
   <font color="black">pid_t pid = fork();</font>
   if(pid == 0) {
      <font color="maroon">pthread_mutex_lock(mutex);</font>
      (*count)++;
      printf("Child process increased the count to %d\n", *count);
      <font color="maroon">pthread_mutex_unlock(mutex)</font>;
      value_returned_from_child = 99;
   }
   else {
      int status;
      // waiting for the child process to finish
      <font color="black">waitpid</font>(pid, &amp;status;, 0);
      value_returned_from_child = <font color="black">WEXITSTATUS(status)</font>;
      printf("value_returned_from_child = %d\n", value_returned_from_child);
      <font color="maroon">pthread_mutex_lock(mutex);</font>
      (*count)++;
      printf("Parent process increased the count to %d\n", *count);
      <font color="maroon">pthread_mutex_unlock(mutex);</font>
   }

   <font color="red">munmap</font>(memory, 2048*sizeof(int));
   <font color="red">shm_unlink</font>("/shm");
   return value_returned_from_child;
}
</pre>
<p>The make file for the code:</p>
<pre>
m: m.o
        g++ -o m m.o -Wall <font color="red">-lpthread -lrt</font>
m.o: m.cpp
        g++ -c m.cpp
clean:
        rm -f *.o m
</pre>
<p>Note that we're linking with real-time extensions library using the compiler flag <strong>-lrt</strong>.</p>
<p>The output:</p>
<pre>
$ ./m
Initial count = 0
Child process increased the count to 1
value_returned_from_child = 99
Parent process increased the count to 2
</pre>
<p>The child process acquires the mutex, and increments the shared variable, <strong>count</strong>. The child process releases the mutex before unmapping and unlinking the shared memory, and then it exits.</p>
<p>Once the child process has exited, the parent process continued. The parent process gets the return value of the child process via <strong>waitpid()</strong>. The macro <strong>WEXITSTATUS</strong> does the conversion of the exit status from <strong>waitpid()</strong> into the return value from the child process.</p>
<p>Like the child process, the parent process also acquires the mutex and increases the shared value, <strong>count</strong> before releasing the mutex. The value of the <strong>count</strong> becomes <strong>2</strong> after incremented twice by the child process and the parent process.</p>
<p>The last steps done by the parent process are destroying the mutex, unmapping and unlinking the shared memory region.</p>
<p>Until removed, a shred memory segment may remain on the system. Therefore, it is critical to make it sure that which process has the responsibility for the removal.</p>
<br/>
<br/>
<br/>
<br/>
<div class="subtitle" id="sharing_sema">Sharing semaphores between processes</div>
<p>It is relatively easy to create a named semaphore and share it between child and parent processes. </p>
<pre>
#include &lt;stdio.h&gt;
#include &lt;unistd.h&gt;
#include &lt;fcntl.h&gt;
#include &lt;semaphore.h&gt;

int main()
{
   int status;
   sem_t *semaphore =  <font color="red">sem_open</font>("/sema", O_CREAT,  0777, 1);

   pid_t pid = fork();
   if(pid == 0) {
      printf("child\n");
      sem_post(semaphore);
      sem_close(semaphore);
   }
   else {
      sem_wait(semaphore);
      printf("parent\n");
      sem_close(semaphore);
      sem_unlink("/sema");
   }
   return 0;
}
</pre>
<br/>
<div class="subtitle" id="sharing_message_queues">Sharing between processes - Message queues</div>
<p>A message queue is a structure that can be shared between several processes. It's one of the methods that passing messages between processes. The messages can be placed in the queue and should be removed in the same order they were added. </p>
<p>To attach to a message queue, we need to call <strong>mq_open()</strong>:</p>
<pre>
#include &lt;mqueue.h&gt;
mqd_t mq_open(const char *name, int oflag, ...);
</pre>
<p>This will return a handle to the message queue. It takes a minimum of the name of the message queue and flags. The name of the message queue must start with '/' up to 13 characters. The flag should be one of the following: <strong>O_RDONLY</strong>, <strong>O_WRONLY</strong>, <strong>O_CREAT</strong>, or <strong>O_RDWR</strong>. If the flag <strong>O_CREAT</strong> is passed, the call to <strong>mq_open()</strong> requires two additional parameters: a mode setting that is used to set the access and a pointer to the attributes of the message.</p>
<p>The <strong>mq_close()</strong> takes the handle to the message queue. It closes the connection to the message queue. </p>
<pre>
#include &lt;mqueue.h&gt;
int mq_close(mqd_t mqdes)
</pre>
<p>
But the message queue will continue to exist, and to remove it from the system, we need to call <strong>mq_unlink()</strong> which takes the name of the message queue as its parameter.</p>
<pre>
#include &lt;mqueue.h&gt;
int mq_unlink(const char *name);
</pre>
<p>Messages are added to the queue using <strong>mq_send()</strong> and received from the queue via <strong>mq_receive()</strong>.</p>
<pre>
#include &lt;mqueue.h&gt;
int mq_send(mqd_t mqdes, const char *msg_ptr, size_t msg_len, unsigned int msg_prio);
</pre>
<p>The parameters to <strong>mq_send()</strong> are the message queue, a pointer to a buffer containg the message, the size of the message, and a priority.</p>
<p>Th function <strong>mq_receive()</strong> takes the message queue, a pointer to a buffer where the message can be copied, the size of the buffer, and either a null pointer or a pointer to an <strong>unsigned int</strong> where the priority of the message will be written.</p>
<pre>
#include &lt;mqueue.h&gt;
ssize_t mq_receive(mqd_t mqdes, char *msg_ptr, size_t msg_len, unsigned int *msg_prio);
</pre>
<p>In the following code, the child sends a message to its parent. Both the child and the parent open the message queue with the <strong>O_CREAT</strong> flag. It means the queue will be created if it does not already exist.</p>
<pre>
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;unistd.h&gt;
#include &lt;fcntl.h&gt;
#include &lt;string.h&gt;
#include &lt;sys/wait.h&gt;
#include &lt;mqueue.h&gt;

#define PMODE 0655

int main()
{
   int status;
   struct mq_attr attr;
   attr.mq_maxmsg = 10;
   attr.mq_msgsize = 20;

   pid_t pid = fork();

   // child process - sending message
   if(pid == 0) {
      char message[20];
      strncpy(message, "Hello Parent!", 13);
      // write/create - attr needed because of O_CREAT
      mqd_t mqfd = <font color="red">mq_open</font>("/test1", O_WRONLY|O_CREAT, PMODE, &amp;attr;);
      if(mqfd == -1) {
         perror("Child mq_open failure");
         exit(0);
      }
      status = <font color="red">mq_send</font>(mqfd, message, strlen(message)+1, 0);
      if (status == -1) {
        perror("mq_send failure\n");
      }
      else {
        printf("Child is sending message: %s\n", message);
        printf("mq_send successful\n");
      }
      mq_close(mqfd);
      printf("Child process done\n");
   }

   // parent - receiving message
   else {
      // read only
      mqd_t mqfd = <font color="red">mq_open</font>("/test1", O_RDONLY|O_CREAT, PMODE, &amp;attr;);
      if(mqfd == -1) {
         perror("Parent mq_open failure");
         exit(0);
      }

      // Parent is waiting for the child process to finish
      waitpid(pid, &amp;status;, 0);

      char buf[100];
      status = <font color="red">mq_receive</font>(mqfd, buf, 100, 0);
      if (status == -1) {
        perror("mq_receive failure\n");
      }
      else {
        printf("mq_receive successful\n");
        printf("Parent received message: %s\n", buf);
      }

      <font color="blue">mq_close</font>(mqfd);
      <font color="blue">mq_unlink</font>("/test1");

      printf("Parent process done\n");
   }
   return 0;
}
</pre>
<p>Here is the output:</p>
<pre>
$ ./messge_queue
Child is sending message: Hello Parent!
mq_send successful
Child process done
mq_receive successful
Parent received message: Hello Parent!
Parent process done
</pre>
<p>The mq_attr structure is defined in <mqueue.h> as follows:</mqueue.h></p>
<pre>
struct mq_attr {
   long mq_flags;   /* Message queue description flags: 0 or
                       O_NONBLOCK [mq_getattr(), mq_setattr()] */
long mq_maxmsg;     /* Maximum number of messages on queue
                       [mq_open(), mq_getattr()] */
long mq_msgsize;    /* Maximum message size (in bytes)
                       [mq_open(), mq_getattr()] */
long mq_curmsgs;    /* Number of messages currently in queue
                       [mq_getattr()] */
};
</pre>
<br/>
<p>Here are some additional notes:<br/>
When we create a message queue with <strong>mq_open()</strong>, the following <strong>mq_attr</strong> fields determine the attributes of the queue:</p>
<ol>
<li>The <strong>mq_maxmsg</strong> field defines the limit on the number of messages that can be
placed on the queue using <strong>mq_send()</strong>. This value must be greater than 0.
  </li>
<li>The <strong>mq_msgsize</strong> field defines the upper limit on the size of each message that may
be placed on the queue. This value must be greater than 0.
  </li>
<li>The <strong>msg_len</strong> argument specifies the length of the message pointed to by <strong>msg_ptr</strong>.
This value must be less than or equal to the <strong>mq_msgsize</strong> attribute of the queue;
otherwise, <strong>mq_send()</strong> fails with the error EMSGSIZE. Zero-length messages are
permitted.</li>
</ol>
<br/>
<br/>
<div class="subtitle_2nd" id="message_queues_vs_pipes">Message queues vs Pipes</div>
<p>Though message queues are similar to pipes, they differ in two important respects. </p>
<ol>
<li>
Message boundaries are preserved, so that readers and writers communicate in
units of messages, rather than via an undelimited byte stream as in the pipes.</li>
<li>Each message includes an integer type field, and it is possible to select messages by
type, rather than reading them in the order in which they were written as in the pipes.</li>
</ol>
<br/>
<br/>
<br/>
<br/>
<div class="subtitle" id="sharing_sockets">Sharing between processes - Sockets</div>
<p>An application using networking as means of communication has an advantage: it can communicate between processes on a single system or processes on different systems connected by a network. The only changes necessary it should make is the address where the packets are  sent.</p>
<p>Communication via network usually involves a <a href="sockets_server_client.html" target="_blank">client-server</a> model. To set up a server, it should first open a socket and then bind that socket to the address on the local host before start to listen for incoming connections. When it's connected, data can be read from it or written to it until the connection is closed.</p>
<p>Using sockets is different from other ways of communications we've looked into in this chapter. That's because the client that open the socket has different responsibilities than the server connected to the socket. So, as in the following samples, we have to look them as separate applications.</p>
<p>In the code, the client sends a message, and then the server echoes it back to the client.</p>
<p>Server side:</p>
<pre>
//server.c

#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;
#include &lt;unistd.h&gt;
#include &lt;sys/types.h&gt;
#include &lt;sys/socket.h&gt;
#include &lt;netinet/in.h&gt;
#include &lt;pthread.h&gt;

void error(const char *msg)
{
    perror(msg);
    exit(1);
}

void* echo(void* param)
{
    char buf[1024];
    int count;
    <font color="red">pthread_detach</font>(pthread_self());
    int s = (int)param;
    while( count = <font color="red">read</font>(s, buf, 1023) &gt; 0 ) {
        printf("Server received %s\n", buf);
        printf("Server sending it back\n");
        <font color="red">write</font>(s, buf, strlen(buf));
    }

    close(s);
}

int main(int argc, char *argv[])
{
     int sockfd, newsockfd, portno = 9999;
     // create a TCP/IP socket
     sockfd = <font color="red">socket</font>(AF_INET, SOCK_STREAM, 0);
     if (sockfd &lt; 0)
        error("ERROR opening socket");

     struct sockaddr_in serv_addr;
     // clear address structure
     bzero((char *) &amp;serv;_addr, sizeof(serv_addr));

     /* setup the host_addr structure for use in bind call */
     // server byte order
     serv_addr.sin_family = AF_INET;

     // automatically be filled with current host's IP address
     serv_addr.sin_addr.s_addr = INADDR_ANY;

     // port number to bind to
     serv_addr.sin_port = htons(portno);

     // This bind() call will bind  the socket to the current IP address on port
     if (<font color="red">bind</font>(sockfd, (struct sockaddr *) &amp;serv;_addr, sizeof(serv_addr)) &lt; 0) {
         error("ERROR on binding");
     }

     // This listen() call tells the socket to listen to the incoming connections.
     // The listen() function places all incoming connection into a backlog queue
     // until accept() call accepts the connection.
     // Here, we set the maximum size for the backlog queue to 5.
     <font color="red">listen</font>(sockfd,5);

     while(newsockfd = <font color="red">accept</font>(sockfd, 0, 0)) {
         pthread_t t;
         <font color="red">pthread_create</font>(&amp;t;, 0, echo, (void*)newsockfd);
     }

     return 0;
}
</pre>
<br/>
<p>Client side:</p>
<pre>
// client.c

#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;unistd.h&gt;
#include &lt;string.h&gt;
#include &lt;sys/types.h&gt;
#include &lt;sys/socket.h&gt;
#include &lt;netinet/in.h&gt;
#include &lt;netdb.h&gt;

void error(const char *msg)
{
    perror(msg);
    exit(0);
}

int main(int argc, char *argv[])
{
    int sockfd, portno = 9999;
    struct sockaddr_in serv_addr;
    sockfd = <font color="red">socket</font>(AF_INET, SOCK_STREAM, 0);
    if (sockfd &lt; 0)
        error("ERROR opening socket");
    bzero(&amp;serv;_addr, sizeof(serv_addr));
    serv_addr.sin_family = AF_INET;
    serv_addr.sin_addr.s_addr = inet_addr("127.0.0.1");
    serv_addr.sin_port = htons(portno);

    if (<font color="red">connect</font>(sockfd, (struct sockaddr *) &amp;serv;_addr, sizeof(serv_addr)) == 0) 
    {
        printf("Client sending 'hello server!' to server\n");
        char buf[1024];
        strncpy(buf, "hello server!", 20);
        <font color="red">write</font>(sockfd, buf, strlen(buf));
        int count = <font color="red">read</font>(sockfd, buf, 1024);
        printf("Got echo of %s from server\n", buf);
        shutdown(sockfd, SHUT_RDWR);
    }
    else
        error("ERROR connecting");
}
</pre>
<p>Output:</p>
<pre>
$ gcc -o server server.c -lpthread
$ ./server
Server received hello server!
Server sending it back

$ gcc -o client client.c -lpthread
$ ./client
Client sending 'hello server!' to server
Got echo of hello server! from server
</pre>
<br/>
<br/>
<br/>
<div class="subtitle" id="sharing_pipes">Sharing between processes - Pipes</div>
<p>For more detail on processes, please visit <a href="../Linux/linux_process_and_signals.html" target="_blank">Linux Processes and Signals</a>.</p>
<p>A pipe is a connection between two processes. In essence, pipe provides a way of running different programs (commands) between two processes and communicate unidirectionally. There are two types of pipes: named or anonymous. We typically create a named pipe by calling <strong>pipe()</strong> before the <a href="../Linux/linux_process_and_signals.html#fork" target="_blank">fork()</a> call. The <strong>pipe()</strong> creates two file descriptors: for reading from the pipe and for writing to the pipe.</p>
<br/>
<img alt="read_write_buffer.png" src="images/multithread_ipc/read_write_buffer.png"/>
<br/>
<div class="subtitle_2nd" id="sharing_pipes_anonymous">Sharing between processes - Anonymous Pipes</div>
<p>The following example illustrates the use of <strong>anonymous pipe</strong> to communicate between a child and parent process.</p>
<pre>
#include &lt;stdio.h&gt;
#include &lt;unistd.h&gt;

int main()
{
        int status, myPipe[2];
        <font color="red">pipe</font>(myPipe);  // create the pipe
        pid_t pid = <font color="orange">fork()</font>;

        /* child process */
        if(pid == 0)
        {
                <font color="red">close</font>(myPipe[0]);  // close unused read end
                <font color="red">write</font>(myPipe[1], "a", 1);
                printf("Child process sent 'a'\n");
                <font color="red">close</font>(myPipe[1]);
        }

        /* parent process */
        else
        {
                char buffer[21];
                <font color="red">close</font>(myPipe[1]);  // close unused write end
                int pid_child = <font color="orange">wait</font>(&amp;status;);
                int length = <font color="red">read</font>(myPipe[0], buffer, 20);
                buffer[length] = '\0';
                printf("Parent process received '%s'\n", buffer);
                <font color="red">close</font>(myPipe[0]);
        }

        return 0;
}
</pre>
<p>Output:</p>
<pre>
Child process sent 'a'
Parent process received 'a'
</pre>
<p>The program creates file descriptors for the two pipes before forking a child process: one for the read end of the pipe (myPipe[0]) and one for the write end (myPipe[1]). Once written to the write end of a pipe, data is immediately
available to be read from the read end. If the write end of a pipe is closed, then a process
reading from the pipe will see end-of-file once it has read all
remaining data in the pipe. Then, the read() returns 0. </p>
<p>To connect two processes, we follow the <strong>pipe()</strong> call with a call to <strong>fork()</strong>. </p>
<p>Both of the parent and child can read from and write to the
pipe, however, this is not usual (race situation). Therefore, immediately after the <strong>fork()</strong>, one process closes its
descriptor for the write end of the pipe, and the other closes its descriptor for the
read end. So, in the example, the parent closes the descriptor, <strong>myPipe[1]</strong> and then waits to receive data from <strong>myPipe[0]</strong> by calling system call <a href="../Linux/linux_process_and_signals.html#wait" target="_blank">wait()</a>. The child process closes the descriptor <strong>myPipe[0]</strong> and then send a character to <strong>myPipe[1]</strong> for parent process to read. The child process then closes the copy of the write file descriptor. The parent process prints the character sent by the child before closing the pipe.</p>
<br/>
<div class="subtitle_2nd" id="sharing_pipes_named">Sharing between processes - Named Pipes</div>
<p>The parent process call <strong>mknod()</strong>  to create the pipe and then forks. Both of the child and parent processes open the pipe.  Child writes to it and parent reads from it.</p>
<p>The child writes into the pipe, closes the file descriptor, unlinks the pipe, and the parent process reads from the pipe, close, and unlinks it.</p>
<pre>
#include &lt;stdio.h&gt;
#include &lt;unistd.h&gt;
#include &lt;sys/stat.h&gt;
#include &lt;fcntl.h&gt;

int main()
{
        int status;
        <font color="red">mknod</font>("/tmp/pipefile", S_IFIFO | S_IRUSR | S_IWUSR, 0);
        pid_t pid = <font color="blue">fork()</font>;

        /* child process */
        if(pid == 0)
        {
                int myPipe = <font color="red">open</font>("/tmp/pipefile", O_WRONLY);
                <font color="red">write</font>(myPipe, "a", 1);
                printf("Child process sent 'a'\n");
                <font color="blue">close</font>(myPipe);
        }

        /* parent process */
        else
        {
                int myPipe = <font color="red">open</font>("/tmp/pipefile", O_RDONLY);
                char buffer[21];
                int pid_child = <font color="orange">wait</font>(&amp;status;);
                int length = <font color="red">read</font>(myPipe, buffer, 20);
                buffer[length] = '\0';
                printf("Parent process received '%s'\n", buffer);
                <font color="blue">close</font>(myPipe);
        }
        <font color="red">unlink</font>("/tmp/pipefile");

        return 0;
}
</pre>
<p>We can create a <strong>named pipe</strong> by using a call to <strong>mknod()</strong>. It takes the path to the file that is to be used as the identifier for the pipe. The second argument is a mode. <strong>S_IFIFO</strong> is used for a named pipe. The other ones in the second argument is the access permission for the file. <p>
<p>Both of the child and parent processes can call <strong>open()</strong> to open the file and handle the returned pipe handler in the same way as we did in the previous example. </p>
<p>Once everything is done regarding the named pipe, we can call <strong>unlink()</strong> to remove it.</p>
<br/>
<br/>
<br/>
<br/>
<div class="subtitle" id="sharing_signals">Sharing between processes - Signals</div>
<p>Please visit <a href="../Linux/linux_process_and_signals.html#signals">Signals - Linux</a>
<br/>
<br/>
<img alt="BakduMtA.png" src="images/multithread_ipc/BakduMtA.png"/>
<br/>
</p></p></p>
<div>
    
<div class="custom-disqus">
<!-- Disqus -->
<div id="disqus_thread"></div>
<script>
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
     
/* Disabling Disqus 4/26/2017
    var disqus_config = function () {
        this.page.url = window.location.href;
        this.page.identifier = document.title;
    };
    
    (function() {  // REQUIRED CONFIGURATION VARIABLE: EDIT THE SHORTNAME BELOW
        var d = document, s = d.createElement('script');
        
        s.src = '//bogotobogocom.disqus.com/embed.js';  // IMPORTANT: Replace EXAMPLE with your forum shortname!
        
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
 Disabling Disqus */    
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

<!-- Disqus ends here -->
</div>

<br>
<br>
<br>
<br></div>
          </div>
          <div class="col-sm-3 col-md-3 col-xs-3">
  	    <div class="g-person" data-width="1" data-href="//plus.google.com/111664369941456137911" data-rel="author">
  	    </div>
            <div class="resume">
              <p>Ph.D. / Golden Gate Ave, San Francisco / Seoul National Univ / Carnegie Mellon / UC Berkeley / DevOps / Deep Learning / Visualization</p>
            </div>
  	    <div>
                
<div class="skyscraper">
  <br>


<div class="skyscraper">

  <div class="bogo-paypal">
    <!-- Paypal Donate button -->
    <p><i>Sponsor Open Source development activities and free contents for everyone.</i></p>

    <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
    <input type="hidden" name="cmd" value="_s-xclick">
    <input type="hidden" name="encrypted" value="-----BEGIN PKCS7-----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-----END PKCS7-----
    ">
    <input type="image" src="https://www.paypalobjects.com/webstatic/en_US/btn/btn_donate_pp_142x27.png" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
    <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
    </form>
    <p><i>Thank you.</i></p>
    <p>- <a href="../about_us.html" target="_blank">K Hong</a></p>
    <!-- End of Paypal Donate button   -->
  </div>


  <script async src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- bogo_skyscraper -->
  <ins class="adsbygoogle"
       style="display:inline-block;width:160px;height:600px"
       data-ad-client="ca-pub-4716428189734495"
       data-ad-slot="5321096966"></ins>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({});
  </script>


  <br><br>





</div></div>




<!-- Place this tag after the last widget tag. -->
<script type="text/javascript">
        (function() {
          var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
          po.src = 'https://apis.google.com/js/platform.js';
          var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
        })();
</script>
  	    </div>
  	    <div class="side_menu">
                <br /><br />

<div class="skyscraper">
  <br>


<div class="skyscraper">

  <div class="bogo-paypal">
    <!-- Paypal Donate button -->
    <p><i>Sponsor Open Source development activities and free contents for everyone.</i></p>

    <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
    <input type="hidden" name="cmd" value="_s-xclick">
    <input type="hidden" name="encrypted" value="-----BEGIN PKCS7-----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-----END PKCS7-----
    ">
    <input type="image" src="https://www.paypalobjects.com/webstatic/en_US/btn/btn_donate_pp_142x27.png" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
    <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
    </form>
    <p><i>Thank you.</i></p>
    <p>- <a href="../about_us.html" target="_blank">K Hong</a></p>
    <!-- End of Paypal Donate button   -->
  </div>


  <script async src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- bogo_skyscraper -->
  <ins class="adsbygoogle"
       style="display:inline-block;width:160px;height:600px"
       data-ad-client="ca-pub-4716428189734495"
       data-ad-slot="5321096966"></ins>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({});
  </script>


  <br><br>





</div></div>

<!-- cplusplus_list_INNER.php -->
<br><br><br>
<h1>C++ Tutorials</h1>
   <a href="cpptut.html">C++ Home</a> 
   <br><br>
   <a href="../Algorithms/algorithms.html">Algorithms & Data Structures in C++ ...</a>
   <br><br>
   <a href="application_visual_studio_2013.html">Application (UI) - using Windows Forms (Visual Studio 2013/2012)</a>
   <br><br>
   <a href="autoptr.html">auto_ptr</a>
   <br><br>
   <a href="binarytree.html">Binary Tree Example Code</a>
   <br><br>
   <a href="blackjackQT.html">Blackjack with Qt</a>
   <br><br>
   <a href="boost.html">Boost - shared_ptr, weak_ptr, mpl, lambda, etc.</a>
   <br><br>
   <a href="Boost/boost_AsynchIO_asio_tcpip_socket_server_client_timer_A.html">Boost.Asio (Socket Programming - Asynchronous TCP/IP)...</a>
   <br><br>
   <a href="class.html">Classes and Structs</a> 
   <br><br>
   <a href="constructor.html">Constructor</a> 
   <br><br>
   <a href="cplusplus11.html">C++11(C++0x): rvalue references, move constructor, and lambda, etc.</a> 
   <br><br>
   <a href="cpptesting.html">C++ API Testing</a>
   <br><br>
   <a href="cplusplus_keywords.html">C++ Keywords - const, volatile, etc.</a>
   <br><br>
   <a href="CppCrashDebuggingMemoryLeak.html">Debugging Crash & Memory Leak</a>
   <br><br>
   <a href="../DesignPatterns/introduction.html">Design Patterns in C++ ...</a>
   <br><br>
   <a href="dynamic_cast.html">Dynamic Cast Operator</a>
   <br><br>
   <a href="eclipse_CDT_JNI_MinGW_64bit.html">Eclipse CDT / JNI (Java Native Interface) / MinGW</a>
   <br><br>
   <a href="embeddedSystemsProgramming.html">Embedded Systems Programming I - Introduction</a>
   <br><br>
   <a href="embeddedSystemsProgramming_gnu_toolchain_ARM_cross_compiler.html">Embedded Systems Programming II - gcc ARM Toolchain and Simple Code on Ubuntu and Fedora</a>
   <br><br>
   <a href="embeddedSystemsProgramming_GNU_ARM_ToolChain_Eclipse_CDT_plugin.html">Embedded Systems Programming III - Eclipse CDT Plugin for gcc ARM Toolchain </a>
   <br><br>
   <a href="exceptions.html">Exceptions</a> 
   <br><br>
   <a href="friendclass.html">Friend Functions and Friend Classes</a>
   <br><br>
   <a href="fstream_input_output.html">fstream: input & output</a>
   <br><br>
   <a href="function_overloading.html">Function Overloading</a>
   <br><br>
   <a href="functor_function_object_stl_intro.html">Functors (Function Objects) I - Introduction</a>
   <br><br>
   <a href="functor_function_object_stl_2.html">Functors (Function Objects) II - Converting function to functor</a>
   <br><br>
   <a href="functors.html">Functors (Function Objects) - General</a>
   <br><br>
   <br><br>
   <a href="Git/Git_GitHub_Express.html">Git and GitHub Express...</a>
   <br><br>
   <a href="google_unit_test_gtest.html">GTest (Google Unit Test) with Visual Studio 2012</a>
   <br><br>
   <a href="multipleinheritance.html">Inheritance & Virtual Inheritance (multiple inheritance) </a>
   <br><br>
   <a href="libraries.html">Libraries - Static, Shared (Dynamic)</a>
   <br><br>
   <a href="linked_list_basics.html">Linked List Basics</a>
   <br><br>
   <a href="linkedlist.html">Linked List Examples</a>
   <br><br>
   <a href="make.html">make & CMake</a>
   <br><br>
   <a href="gnumake.html">make (gnu)</a>
   <br><br>
   <a href="memoryallocation.html">Memory Allocation</a>
   <br><br>
   <a href="multithreaded.html">Multi-Threaded Programming - Terminology - Semaphore, Mutex, Priority Inversion etc.</a>
   <br><br>
   <a href="multithreading_win32A.html">Multi-Threaded Programming II -  Native Thread for Win32 (A) </a>
   <br><br>
   <a href="multithreading_win32B.html">Multi-Threaded Programming II -  Native Thread for Win32 (B) </a>
   <br><br>
   <a href="multithreading_win32C.html">Multi-Threaded Programming II -  Native Thread for Win32 (C) </a>
   <br><br>
   <a href="multithreading_win32.html">Multi-Threaded Programming II - C++ Thread for Win32</a>
   <br><br>
   <a href="multithreading_pthread.html">Multi-Threaded Programming III - C/C++ Class Thread for Pthreads</a>
   <br><br>
   <a href="multithreading_ipc.html">MultiThreading/Parallel Programming - IPC</a>
   <br><br>
   <a href="multithreaded4_cplusplus11.html">Multi-Threaded Programming with C++11 Part A (start, join(), detach(), and ownership)</a>
   <br><br>
   <a href="multithreaded4_cplusplus11B.html">Multi-Threaded Programming with C++11 Part B (Sharing Data - mutex, and race conditions, and deadlock)</a>
   <br><br>
   <a href="multithreadedDebugging.html">Multithread Debugging</a>
   <br><br>
   <a href="object_returning.html">Object Returning</a>
   <br><br>
   <a href="slicing.html">Object Slicing and Virtual Table</a>
   <br><br>
   <a href="opencv.html">OpenCV with C++</a> 
   <br><br>
   <a href="operatoroverloading.html">Operator Overloading I</a> 
   <br><br>
   <a href="operator_oveloading_self_assignment.html">Operator Overloading II - self assignment</a> 
   <br><br>
   <a href="valuevsreference.html">Pass by Value vs. Pass by Reference</a>
   <br><br>
   <a href="pointers.html">Pointers</a>
   <br><br>
   <a href="pointers2_voidpointers_arrays.html">Pointers II - void pointers & arrays</a>
   <br><br>
   <a href="pointers3_function_multidimensional_arrays.html">Pointers III - pointer to function & multi-dimensional arrays</a>
   <br><br>
   <a href="preprocessor_macro.html">Preprocessor - Macro</a>
   <br><br>
   <a href="private_inheritance.html">Private Inheritance</a>
   <br><br>
   <a href="../python/python_cpp_sip.html">Python & C++ with SIP</a>
   <br><br>
   <a href="RandomNumbers.html">(Pseudo)-random numbers in C++</a>
   <br><br>
   <a href="references.html">References for Built-in Types</a>
   <br><br>
   <a href="sockets_server_client.html">Socket - Server & Client</a>
   <br><br>
    <a href="sockets_server_client_QT.html">Socket - Server & Client with Qt (Asynchronous / Multithreading / ThreadPool etc.)</a>
   <br><br>
   <a href="stackunwinding.html">Stack Unwinding</a>
   <br><br>
   <a href="stl_vector_list.html">Standard Template Library (STL) I - Vector & List</a>
   <br><br>
   <a href="stl2_map.html">Standard Template Library (STL) II - Maps</a>
   <br><br>
   <a href="stl2_unorderd_map_cpp11_hash_table_hash_function.html">Standard Template Library (STL) II - unordered_map</a>
   <br><br>
   <a href="stl2B_set.html">Standard Template Library (STL) II - Sets</a>
   <br><br>
   <a href="stl3_iterators.html">Standard Template Library (STL) III - Iterators</a>
   <br><br>
   <a href="stl4_algorithms.html">Standard Template Library (STL) IV - Algorithms</a>
   <br><br>
   <a href="stl5_function_objects.html">Standard Template Library (STL) V - Function Objects</a>
   <br><br>
   <a href="statics.html">Static Variables and Static Class Members</a>
   <br><br>
   <a href="string.html">String</a> 
   <br><br>
   <a href="string2.html">String II - sstream etc.</a> 
   <br><br>
   <a href="assembly.html">Taste of Assembly</a>
   <br><br>
   <a href="templates.html">Templates</a>
   <br><br>
   <a href="template_specialization_function_class.html">Template Specialization</a>
   <br><br>
   <a href="template_specialization_traits.html">Template Specialization - Traits</a>
   <br><br>
   <a href="template_declaration_definition_header_implementation_file.html">Template Implementation & Compiler (.h or .cpp?)</a>
   <br><br>
   <a href="this_pointer.html">The this Pointer</a>
   <br><br>
   <a href="typecast.html">Type Cast Operators</a>
   <br><br>
   <a href="upcasting_downcasting.html">Upcasting and Downcasting</a>
   <br><br>
   <a href="virtual_destructors_shared_ptr.html">Virtual Destructor & boost::shared_ptr</a>
   <br><br>
   <a href="virtualfunctions.html">Virtual Functions</a>
   <br><br>
   <br><br>
   <i>Programming Questions and Solutions &darr;</i>
      <br><br>
       <a href="quiz_strings_arrays.html">Strings and Arrays</a>
       <br><br>
       <a href="quiz_linkedlist.html">Linked List</a>
       <br><br>
       <a href="quiz_recursion.html">Recursion</a>
       <br><br>
       <a href="quiz_bit_manipulation.html">Bit Manipulation</a> 
       <br><br>
       <a href="smallprograms.html">Small Programs (string, memory functions etc.)</a>
       <br><br>
       <a href="quiz_math_probability.html">Math & Probability</a>
       <br><br>
       <a href="quiz_multithreading.html">Multithreading</a>
       <br><br>
       <a href="google_interview_questions.html">140 Questions by Google</a> 
       <br><br>
       <br><br>
   <a href="../Qt/Qt5_Creating_QtQuick2_QML_Application_Animation_A.html">Qt 5 EXPRESS...</a>
   <br><br>
   <a href="../Win32API/Win32API_DLL.html">Win32 DLL ...</a>
   <br><br>
   <a href="cppNews.html">Articles On C++</a> 
   <br><br>
   <a href="C11/C11_initializer_list.html">What's new in C++11...</a> 
   <br><br>
   <a href="C11/1_C11_creating_thread.html">C++11 Threads EXPRESS...</a> 
   <br><br>
   <a href="../OpenCV/opencv_3_tutorial_imgproc_gausian_median_blur_bilateral_filter_image_smoothing.html">OpenCV...</a> 


<br />



  		
  	    </div>
          </div>
        </div>
      </div> <!-- / section -->
    </div>
  </div>

  <br>
<br>
<br>
<br>

<div class="custom-disqus">
<!-- Disqus -->
<!-- Disqus disabled Oct 17, 2016 
<div id="disqus_thread"></div>
<script>
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
     
    var disqus_config = function () {
        this.page.url = window.location.href;
        this.page.identifier = document.title;
    };
    
    (function() {  // REQUIRED CONFIGURATION VARIABLE: EDIT THE SHORTNAME BELOW
        var d = document, s = d.createElement('script');
        
        s.src = '//bogotobogocom.disqus.com/embed.js';  // IMPORTANT: Replace EXAMPLE with your forum shortname!
        
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
     
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
---- Disable -->
<!-- Disqus ends here -->
</div>

<br>
<br>
<br>
<br>


<!-- footer starts here -->
<footer id="footer">
  <div class="container">
    <div class="row">
      <div class="col-md-4 widget">
        <h3 class="widget-title">Contact</h3>
        <div class="widget-body">
          <p>BogoToBogo<br>
            <a href="mailto:#">contactus@bogotobogo.com</a><br>
          </p>  
        </div>
      </div>

      <div class="col-md-4 widget">
        <h3 class="widget-title">Follow Bogotobogo</h3>
        <div class="widget-body">

          <!--
          <ul>
            <li><a href="https://www.facebook.com/KHongSanFrancisco" target="_unknown"><i class="fa fa-facebook"></i></a></li>
            <li><a href="https://twitter.com/KHongTwit" target="_unknown"><i class="fa fa-twitter"></i></a></li>
            <li><a href="https://plus.google.com/u/0/+KHongSanFrancisco/posts" target="_unknown"><i class="fa fa-google-plus"></i> </a></li>
          </ul>
          -->
             <h3>
             <a href="https://www.facebook.com/KHongSanFrancisco" target="_unknown"><i class="fa fa-facebook"></i></a> 
             <a href="https://twitter.com/KHongTwit" target="_unknown"><i class="fa fa-twitter"></i></a> 
             <a href="https://plus.google.com/u/0/+KHongSanFrancisco/posts" target="_unknown"><i class="fa fa-google-plus"></i> </a> 
             </h3>

        </div>
      </div>

      <div class="col-md-4 widget">
        <h3 class="widget-title"><a href="../about_us.html">About Us</a></h3>
        <div class="widget-body">
            <a href="mailto:#">contactus@bogotobogo.com</a><br>
            <br>
            Golden Gate Ave, San Francisco, CA 94115
          </p>  
        </div>
      </div>

    </div> 
  </div>
</footer>

<footer id="underfooter">
  <div class="container">
    <div class="row">
      
      <div class="col-md-6 widget">
        <div class="widget-body">
          <p>Golden Gate Ave, San Francisco, CA 94115 </p>
        </div>
      </div>

      <div class="col-md-6 widget">
        <div class="widget-body">
          <p class="text-right">
            Copyright &copy; 2016, bogotobogo<br> 
            Design: <a href="../index.html" rel="designer">Web Master</a> </p>
        </div>
      </div>

    </div>
  </div>
</footer>

  <!-- JavaScript libs are placed at the end of the document so the pages load faster -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
<script type="text/javascript"
     src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- D3.js -->
<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>

<!-- Google Analytics -->
<script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-12016988-2']);
    _gaq.push(['_trackPageview']);
    
    (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>

<!-- Google Analytics --> 
<!-- We need this for Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-43017326-1', 'bogotobogo.com');
  ga('send', 'pageview');

</script>
  
<!-- Google+ -->
<script type="text/javascript" src="http://apis.google.com/js/plusone.js"></script>

</body>

<!-- Mirrored from www.bogotobogo.com/cplusplus/multithreading_ipc.php by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 11 Dec 2017 15:00:55 GMT -->
</html>

