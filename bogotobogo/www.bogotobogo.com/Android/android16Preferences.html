<!DOCTYPE html>

<!-- Mirrored from www.bogotobogo.com/Android/android16Preferences.php by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 11 Dec 2017 15:20:52 GMT -->
<head>
  <title>Android 4 - Preferences - 2017</title>
  <meta content="Android and Eclipse Tutorial- Preferences" name="description" />
  <meta content="Android, Eclipse, Tutorial, Preferences, SharedPreferences, PreferenceScreen, PreferenceCategory" name="keywords" />
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.no-icons.min.css" rel="stylesheet">
  <link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Alice|Open+Sans:400,300,700">
  <link rel="stylesheet" href="../public/css/app.css">
  <link rel="stylesheet" href="../public/css/styles.css">
  <link rel="stylesheet" href="../public/css/bogostyleWidePreNew.css">
</head>

<body class="home">
    <nav class="navbar navbar-default navbar-fixed-top">
    <div class="container-fluid">      
      <div class="navbar-header">
        <!--<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar"> -->
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse" aria-expanded="false" aria-controls="navbar"> 
          <span class="sr-only">Toggle navigation</span> 
          <span class="icon-bar"></span> 
          <span class="icon-bar"></span> 
          <span class="icon-bar"></span> 
        </button>
        <a class="navbar-brand" href="../index-2.html">BogoToBogo</a>
      </div>
      
      <div class="navbar-collapse collapse">
        
        <ul class="nav navbar-nav">
          <li class="active"><a href="../index-2.html">Home</a></li>
          <li><a href="../about_us.html">About</a></li>
          <li><a href="../Hadoop/BigData_hadoop_Install_on_ubuntu_single_node_cluster.html">Big Data</a></li>
          <li><a href="../python/scikit-learn/Artificial-Neural-Network-ANN-1-Introduction.html">Machine Learning</a></li>
          <li><a href="../AngularJS/AngularJS_Introduction.html">AngularJS</a></li> 
          <li><a href="../python/pytut.html">Python</a></li>
          <li><a href="../cplusplus/cpptut.html">C++</a></li>
          <li><a href="../DevOps/DevOps_Jenkins_Chef_Puppet_Graphite_Logstash.html">DevOps </a></li>
          <li><a href="../Algorithms/algorithms.html">Algorithms</a></li> 
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">More...<b class="caret"></b></a>
            <ul class="dropdown-menu">
           
              <li><a href="../Qt/Qt5_Creating_QtQuick2_QML_Application_Animation_A.html">Qt 5</a></li>                           
              <li><a href="android.html">Android</a></li>
              
              <li><a href="../Linux/linux_tips1.html">Linux</a></li>
              <li><a href="../Java/tutorials/on_java.html">Java</a></li>
              <li><a href="../CSharp/.netframework.html">CSharp</a></li>
              <li><a href="../VideoStreaming/videostreaming_etc.html">Video Streaming</a></li>
              <li><a href="../FFMpeg/ffmpeg_fade_in_fade_out_transitions_effects_filters_slideshow_concat.html">FFmpeg</a></li>
              <li><a href="../Matlab/Matlab_Tutorial_Manipulating_Audio_I_Reverse_Delay_Tone_Control_Changing_Speed_Removing_Vocals.html">Matlab</a></li>
              <li><a href="../python/Django/Python_Django_Forums_Shared_Host.html">Django 1.8</a></li>
              <li><a href="../Laravel5/Laravel5_ToDo_List_Sample.html">Laravel 5.2</a></li>
              <li><a href="../RubyOnRails/RubyOnRails.html">Ruby On Rails</a></li>
              <li><a href="../HTML5/HTML5_Tutorial.html">HTML5 & CSS</a></li>
              <li><a href="../AmazingPlaces/index.html" target="_blank">
<img src="../Menus/MenuIcons/Earth_8px_transparent_background.png"
width="24" height="24"/>Earth</a> </li>
            </ul>
          </li>
        </ul>      
      </div>
    </div>  
  </nav>  

  <div id="main">
    <div class="container">
      <div class="row section featured topspace">
        <div class="row">
          <div class="col-sm-9 col-md-9 col-xs-9">
            <h2 class="section-title">Android 4.0 
16. Preferences        <g:plusone></g:plusone></h2>
            <div class="icon-image">
               <img src="../Linux/images/emperor_penguins.png" alt="linux logo"/>
            </div>
            <div class="SocialLinks">
  <span class='st__large' displayText=''></span>
  <br><br>
  <div align="center">
  <span class='st_facebook_large' displayText='Facebook'></span>
  <span class='st_twitter_large' displayText='Tweet'></span>
  <span class='st_linkedin_large' displayText='LinkedIn'></span>
  </div>
  <br><br>
  <script type="text/javascript" src="http://w.sharethis.com/button/buttons.js"></script>
  <script type="text/javascript">stLight.options({publisher: "b9569c43-5f56-4501-92f0-4bf4aa8fceb0", doNotHash: false, doNotCopy: true, hashAddressBar: false});</script>
</div>

<div id="bookmarkshare">
  <script type="text/javascript">var addthis_config = {"data_track_clickback":true};</script>
  <a class="addthis_button" href="http://www.addthis.com/bookmark.php?v=250&amp;username=khhong7"><img src="http://s7.addthis.com/static/btn/v2/lg-share-en.gif" width="125" height="16" alt="Bookmark and Share" style="border:0"/></a>
  <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#username=khhong7"></script>
</div>

<br>
<hr>
<br>


<!-- Google bogo1 ad -->
<!-- Google search box -->



<!-- bogo1 -->
<div>
  <script async src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- bogo1 -->
  <ins class="adsbygoogle"
     style="display:inline-block;width:728px;height:90px"
     data-ad-client="ca-pub-4716428189734495"
     data-ad-slot="6542308167"></ins>
  <script>
   (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


<!-- Google search box -->
<div class="AdSenseSearch">
  bogotobogo.com site search:
  <form action="http://www.google.com/" id="cse-search-box" target="_blank">
    <div>
      <input type="hidden" name="cx" value="partner-pub-4716428189734495:1794050961" />
      <input type="hidden" name="ie" value="UTF-8" />
      <!--<input type="text" name="q" size="55" />-->
      <input type="text" name="q" size="" width="90%"/>
      <input type="submit" name="sa" value="Search" />
    </div>
  </form>
  <script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en"></script>
</div>




<hr>
            <br><br><br>
<br/>
<br/>
<br/>
<br/>
<br/>
<div class="subtitle_2nd">
<p>This chapter</p></div>
<ol>
<li>
<a href="android16Preferences.html#Preferences">16.0 Preferences</a>
</li>
<li>
<a href="android16Preferences.html#PreferencesA">16.1 Example A Preferences</a>
</li>
<li>
<a href="android16Preferences.html#PreferencesB">16.2 Example B using PreferenceCategory and PreferenceScreen</a>
</li>
<li>
<a href="android16Preferences.html#PreferencesC">16.3 Example C using Dialogs</a>
</li>
<li>
<a href="android16Preferences.html#PreferencesD">16.4 Another example of using SharedPreferences</a>
</li>
</ol>
<br/>


<!-- bogo1 -->
<div>
  <script async src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- bogo1 -->
  <ins class="adsbygoogle"
     style="display:inline-block;width:728px;height:90px"
     data-ad-client="ca-pub-4716428189734495"
     data-ad-slot="6542308167"></ins>
  <script>
   (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


<!-- Google search box -->
<div class="AdSenseSearch">
  bogotobogo.com site search:
  <form action="http://www.google.com/" id="cse-search-box" target="_blank">
    <div>
      <input type="hidden" name="cx" value="partner-pub-4716428189734495:1794050961" />
      <input type="hidden" name="ie" value="UTF-8" />
      <!--<input type="text" name="q" size="55" />-->
      <input type="text" name="q" size="" width="90%"/>
      <input type="submit" name="sa" value="Search" />
    </div>
  </form>
  <script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=cse-search-box&amp;lang=en"></script>
</div>


<br/>
<div class="subtitle" id="Preferences">16.0 Preferences</div>
<p>We'll introduce the simplest but most versatile data persistence technique in Android, <strong>SharedPreferences</strong>.</p>

<!-- Google bogo_square_ad -->
<div>
  <script type="text/javascript">
    google_ad_client = "ca-pub-4716428189734495";
    /* bogo_LargeRectangle_336_280 */
    google_ad_slot = "2712696561";
    google_ad_width = 336;
    google_ad_height = 280;
  </script>
  <script type="text/javascript"
    src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
  </script>
</div>
<br>





<p><strong>SharedPreferences</strong> are a simple, lightweight key/value pair mechanism for saving primitive application data, most commonly a user's application preferences.</p>
<p>Using the <strong>SharedPreferences</strong> class, we can create named maps of key/value pairs within our application that can be shared among application components running in the same application context. </p>
<p><strong>SharedPreferences</strong> support the primitive types Boolean, string, float, long, and integer, making them an ideal means of quickly storing default values, class instance variables, the current UI state, and user preferences. They are most commonly used to persist data across user sessions and to share settings among application components. </p>
<p>How we get access to the preference?</p>
<ol>
<li> <strong>getPreference()</strong> from within Activity: <br/>
	to access activity specific preference. </li>
<li> <strong>getSharedPreferences()</strong> from within Activity or other application Context: <br/>
	to access application-level preference. </li>
<li> <strong>getDefaultSharedPreferences()</strong> on <strong>PreferencesManager</strong> <br/>
	to get the shared preferences that work in concert with Android's overall preference framework. </li>
</ol>
<p><strong>getPreference()</strong> and <strong>getSharedPreferences()</strong> take a security mode parameter pass in 0. The <strong>getSharedPreferences()</strong> method also takes a name of a set of preferences. <strong>getPreference()</strong> effectively calls <strong>getSharedPreferences()</strong> with the activity's class name as the preference set name. The <strong>getDefaultSharedPreferences()</strong> method takes the <strong>Context</strong> for the preferences.</p>
<p>All of these methods return an instance of <strong>SharedPreferences</strong>, which offers a series of getters to access named preferences, returning a suitably typed result. The getters also take a default value, which is returned if there is no preference set under the specified key. <p>
<p>Given the appropriate <strong>SharedPreferences</strong> object, we can use <strong>edit()</strong> to get an editor for the preferences. This object has a set of setters that mirror the getters on the parent <strong>SharedPreferences</strong> object. It also has the following methods: </p>
<ol>
<li><strong>remove()</strong>: Deletes a single named preference. </li>
<li><strong>clear()</strong>: Deletes all preferences. </li>
<li><strong>commit()</strong>: Persists our changes made via the editor. </li>
</ol>
<p>The <strong>commit()</strong> method is important. If we modify preferences using the editor and fail to <strong>commit()</strong> the changes, those changes will evaporate once the editor goes out of scope. </p>
<p>Conversely, since the preferences object supports live changes, if one part of our application modifies shared preferences, another part of our application will have access to the changed value immediately. </p>
<br/>
<br/>
<br/>
<div class="subtitle" id="PreferencesA">16.1 Example A Preferences</div>
<p>We can describe our application's preferences in an XML file stored in project's <strong>res/xml/</strong> directory. Android, then, present a UI for manipulating those preferences, which are then stored in the <strong>SharedPreferences</strong> which we get back from <strong>getDefaultSharedPreferences()</strong>. </p>
<br/>
<img alt="PreferenceA_PackageExplorer" src="../images/Android/Android16/PreferenceA_PackageExplorer.png"/> <br/>
<br/>
<p>Here is the xml preferences, <strong>res/xml/preferences.xml</strong> used in this example. </p>
<pre>
&lt;PreferenceScreen xmlns:android="http://schemas.android.com/apk/res/android"&gt;
  &lt;CheckBoxPreference 
      android:key="checkbox" 
      android:title="Checkbox Preference" 
      android:summary="Check it on, check it off" /&gt; 
  &lt;RingtonePreference 
      android:key="ringtone" 
      android:title="Ringtone Preference"
      android:showDefault="true" 
      android:showSilent="true" 
      android:summary="Pick a tone, any tone" /&gt; 
&lt;/PreferenceScreen&gt;
</pre>
<p>Note that the root of the preference XML is a <strong>PreferenceScreen</strong> element. Some of the things we can have inside a <strong>PreferenceScreen</strong> element are preference definitions. These are subclasses of <strong>RingtonePreference</strong>. These allow us to check a checkbox or choose a ringtone, respectively. In the case of <strong>RingtonePreference</strong>, we have the option of allowing users to choose the system default ringtone or to choose "silence" as a ringtone. </p>
<p>Once we have the preference XML, we can use built-in activity for allowing users to set their preferences. We do it by subclassing the activity and point it to our preference XML with the hook the activity into the rest of application. </p>
<p>Let's look at the <strong>EditPreferences</strong> activity of our example, <strong>EditPreferences.java</strong>: </p>
<pre>
package com.bogotobogo.preferencesa;

import android.os.Bundle;
import android.preference.PreferenceActivity;

public class EditPreferences extends PreferenceActivity {
	@Override
	public void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		addPreferencesFromResource(R.xml.preferences);
	}
}
</pre>
<p>What it's doing is just call <strong>addPreferencesFromResource()</strong> and specify the XML resource containing our preferences. </p>
<pre>
	addPreferencesFromResource(R.xml.preferences);
</pre>
<p>We also need to add <strong>EditPreferences</strong> to our <strong>AndroidManifest.xml</strong> file: </p>
<pre>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;manifest xmlns:android="http://schemas.android.com/apk/res/android"
	package="com.bogotobogo.preferencesa"
	android:versionCode="1"
   	android:versionName="1.0" &gt;
   	&lt;uses-sdk android:minSdkVersion="14" /&gt;
	&lt;application 
	    android:label="@string/app_name"
		android:icon="@drawable/cw"&gt;
		&lt;activity
			android:name=".PreferencesA"
			android:label="@string/app_name"&gt;
			&lt;intent-filter&gt;
				&lt;action android:name="android.intent.action.MAIN" /&gt;
				&lt;category android:name="android.intent.category.LAUNCHER" /&gt;
			&lt;/intent-filter&gt;
		&lt;/activity&gt;
		&lt;activity
			android:name=".EditPreferences"
			android:label="@string/app_name"&gt;
		&lt;/activity&gt;
	&lt;/application&gt;
&lt;/manifest&gt;
</pre>
<br/>
<p><strong>strings.xml</strong>:</p>
<pre>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;resources&gt;
    &lt;string name="hello"&gt;Hello World, PreferencesAActivity!&lt;/string&gt;
    &lt;string name="app_name"&gt;PreferencesA&lt;/string&gt;
    &lt;string name="checkbox"&gt;Checkbox:&lt;/string&gt;
    &lt;string name="ringtone"&gt;Ringtone:&lt;/string&gt;
&lt;/resources&gt;
</pre>
<br/>
<p>We also need to arrange to invoke the activity, such as from a menu option. Here is our Java code, <strong>PreferencesA.java</strong>: <p>
<pre>
package com.bogotobogo.preferencesa;

import android.app.Activity;
import android.content.Intent;
import android.content.SharedPreferences;
import android.os.Bundle;
import android.preference.PreferenceManager;
import android.view.Menu;
import android.view.MenuItem;
import android.widget.TextView;

public class PreferencesA extends Activity {
	private static final int EDIT_ID = Menu.FIRST+2;
	
	private TextView checkbox=null;
	private TextView ringtone=null;
	
	@Override
	public void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		setContentView(R.layout.main);
		
		checkbox=(TextView)findViewById(R.id.checkbox);
		ringtone=(TextView)findViewById(R.id.ringtone);
	}
	
	@Override
	public void onResume() {
		super.onResume();
		
		SharedPreferences prefs=PreferenceManager
			.getDefaultSharedPreferences(this);
		checkbox.setText(new Boolean(prefs.getBoolean("checkbox", false)).toString());
		ringtone.setText(prefs.getString("ringtone", "<unset>"));
	}
	
	@Override
	public boolean onCreateOptionsMenu(Menu menu) {
		menu.add(Menu.NONE, EDIT_ID, Menu.NONE, "Edit Prefs")
			.setIcon(R.drawable.misc).setAlphabeticShortcut('e');

		return(super.onCreateOptionsMenu(menu));
	}

	@Override
	public boolean onOptionsItemSelected(MenuItem item) {
		switch (item.getItemId()) {
			case EDIT_ID:
				startActivity(new Intent(this, EditPreferences.class));
				return(true);
		}
		return(super.onOptionsItemSelected(item));
	}
}
</unset></pre>
<br/>
<p>The first screen when the application started.</p>
<br/>
<img alt="PreferencesAInitial" src="../images/Android/Android16/PreferencesAInitial.png"/> <br/>
<br/>
<p>At the "Edit Prefs" button. <br/>
The check box can be directly checked or unchecked.</p>
<br/>
<img alt="PreferencesAEdit" src="../images/Android/Android16/PreferencesAEdit.png"/> <br/>
<br/>
<p>Editing Ringtone. <br/>
There is no explicit save or commit button or menu. Any changes are persisted as soon as they are made. </p>
<br/>
<img alt="PreferencesARingtones" src="../images/Android/Android16/PreferencesARingtones.png"/> <br/>
<br/>
<p>Saved preferences. </p>
<br/>
<img alt="PreferencesARingtonesSaved" src="../images/Android/Android16/PreferencesARingtonesSaved.png"/> <br/>
<br/>
<p>Files used in the example, <a href="../Files/Android/Android16/PreferencesA.zip">PreferencesA.zip</a>
<br/>
<br/>
<br/>
<div class="subtitle" id="PreferencesB">16.2 Example B using PreferenceCategory and PreferenceScreen</div>
<p>If we have lots of preferences for users to set, putting them all in one big list may not be the good idea. Android's preference framework gives us a few other ways to impose a bit of structure on our preferences including <strong>categories</strong> and <strong>screens</strong>.</p>
<p><strong>Categories</strong> are added via a <strong>PreferenceCategory</strong> element in our preference XML and are used to group together related preferences. Rather than have our preferences all as children of the root <strong>PreferenceScreen</strong>, we can place a few <strong>PreferenceCategory</strong> elements in the <strong>PreferenceScreen</strong>, and the put our preferences in their appropriate categories. Visually, this adds a divider with the category title between groups of preferences.</p>
<p>If we have lots of preferences, we can also put them on separate screens by introducing the <strong>PreferenceScreen</strong> element.</p>
<p>Any children of <strong>PreferenceScreen</strong> go on their own screen. If we nest <strong>PreferenceScreens</strong>, the parent screen displays the screen as a placeholder entry, and tapping that entry brings up the child screen.</p>
<p>In our example, the preference XML file contains both <strong>PreferenceCategory</strong> and <strong>PreferenceScreen</strong> elements. Also, unlike the previous example, we used <strong>Action Bar</strong> for the <strong>Preference Edit</strong>. </p>
<br/>
<img alt="PreferenceB_PackageExplorer" src="../images/Android/Android16/PreferenceB_PackageExplorer.png"/> <br/>
<br/>
<br/>
<p><strong>res/memu/my_menu.xml</strong>:</p>
<pre>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;menu xmlns:android="http://schemas.android.com/apk/res/android"&gt;
    &lt;item android:id="@+id/edit_pref"
          android:icon="@drawable/misc"
          android:showAsAction="ifRoom|withText"
          android:title="@string/edit_pref" /&gt;
&lt;/menu&gt;
</pre>
<br/>
<p><strong>strings.xml</strong>:</p>
<pre>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;resources&gt;
  &lt;string name="app_name"&gt;PreferencesB&lt;/string&gt; 
  &lt;string name="checkbox"&gt;Checkbox:&lt;/string&gt; 
  &lt;string name="ringtone"&gt;Ringtone:&lt;/string&gt; 
  &lt;string name="checkbox2"&gt;Checkbox #2:&lt;/string&gt; 
  &lt;string name="edit_pref"&gt;Edit Preferences&lt;/string&gt;
&lt;/resources&gt;
</pre>
<br/>
<p>PreferencesB Manifest.xml, <strong>AndroidManifest.xml</strong>:</p>
<pre>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.bogotobogo.preferencesb"
    android:versionCode="1"
    android:versionName="1.0" &gt;

    &lt;uses-sdk android:minSdkVersion="14" /&gt;

    &lt;application
        android:icon="@drawable/cw"
        android:label="@string/app_name" &gt;
        &lt;activity
            android:name=".PreferencesB"
            android:label="@string/app_name" &gt;
            &lt;intent-filter&gt;
                &lt;action android:name="android.intent.action.MAIN" /&gt;
                &lt;category android:name="android.intent.category.LAUNCHER" /&gt;
            &lt;/intent-filter&gt;
        &lt;/activity&gt;
        &lt;activity
		android:name=".EditPreferences"
		android:label="@string/app_name"&gt;
	&lt;/activity&gt;
    &lt;/application&gt;
&lt;/manifest&gt;
</pre>
<p>Here is our new file, <strong>res/xml/preferences.xml</strong>.</p>
<pre>
&lt;PreferenceScreen
	xmlns:android="http://schemas.android.com/apk/res/android"&gt;
	&lt;PreferenceCategory android:title="Simple Preferences"&gt;
		&lt;CheckBoxPreference
			android:key="checkbox"
			android:title="Checkbox Preference"
			android:summary="Check it on, check it off"/&gt;
		&lt;RingtonePreference
			android:key="ringtone"
			android:title="Ringtone Preference"
			android:showDefault="true"
			android:showSilent="true"
			android:summary="Pick a tone, any tone"/&gt;
	&lt;/PreferenceCategory&gt;
	&lt;PreferenceCategory android:title="Detail Screens"&gt;
		&lt;PreferenceScreen
			android:key="detail"
			android:title="Detail Screen"
			android:summary="Additional preferences held in another page"&gt;
			&lt;CheckBoxPreference
				android:key="checkbox2"
				android:title="Another Checkbox"
				android:summary="On. Off. It really doesn't matter."/&gt;
		&lt;/PreferenceScreen&gt;
	&lt;/PreferenceCategory&gt;
&lt;/PreferenceScreen&gt;
</pre>
<br/>
<p><strong>PreferencesB.java</strong>:</p>
<pre>
package com.bogotobogo.preferencesb;

import android.app.Activity;
import android.content.Intent;
import android.content.SharedPreferences;
import android.os.Bundle;
import android.preference.PreferenceManager;
import android.view.Menu;
import android.view.MenuInflater;
import android.view.MenuItem;
import android.widget.TextView;

public class PreferencesB extends Activity {
	
	private TextView checkbox=null;
	private TextView ringtone=null;
	private TextView checkbox2=null;
	
	@Override
	public void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		setContentView(R.layout.main);
		
		checkbox=(TextView)findViewById(R.id.checkbox);
		ringtone=(TextView)findViewById(R.id.ringtone);
		checkbox2=(TextView)findViewById(R.id.checkbox2);
	}
	
	@Override
	public void onResume() {
		super.onResume();
		
		SharedPreferences prefs=PreferenceManager
				.getDefaultSharedPreferences(this);
		checkbox.setText(new Boolean(prefs.getBoolean("checkbox", false))
				.toString());
		ringtone.setText(prefs.getString("ringtone", "&lt;unset&gt;"));
		checkbox2.setText(new Boolean(prefs.getBoolean("checkbox2", false))
				.toString());
	}
	
	@Override
        public boolean onCreateOptionsMenu(Menu menu) {
        	MenuInflater inflater = getMenuInflater();
        	inflater.inflate(R.menu.my_menu, menu);
        	return true;
    	}

	@Override
	public boolean onOptionsItemSelected(MenuItem item) {
    		switch (item.getItemId()) {       
    			case R.id.edit_pref:
				startActivity(new Intent(this, EditPreferences.class));        
				return true;      
    		}  

		return(super.onOptionsItemSelected(item));
	}
}
</pre>
<br/>
<p><strong>EditPreferences.java</strong>:</p>
<pre>
package com.bogotobogo.preferencesb;

import android.os.Bundle;
import android.preference.PreferenceActivity;

public class EditPreferences extends PreferenceActivity {
	@Override
	public void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		addPreferencesFromResource(R.xml.preferences);
	}
}
</pre>
<br/>
<p>Initial screen.</p>
<br/>
<img alt="PreferencesBInitial" src="../images/Android/Android16/PreferencesBInitial.png"/> <br/>
<br/>
<p>At Edit Button, we see categorized list of elements as a result of using preference XML with <strong>PreferenceActivity</strong> implementation. </p>
<br/>
<img alt="PreferencesBEdit" src="../images/Android/Android16/PreferencesBEdit.png"/> <br/>
<br/>
<p>If we tap the Detail Screen entry, we are taken to the child preference screen. </p>
<br/>
<img alt="PreferencesBAtDetailScreen" src="../images/Android/Android16/PreferencesBAtDetailScreen.png"/> <br/>
<br/>
<p>Files used in the example, <a href="../Files/Android/Android16/PreferencesB.zip">PreferencesB.zip</a>
<br/>
<br/>
<div class="subtitle" id="PreferencesC">16.3 Example C using Dialogs</div>
<p>Not all preferences are check box and ringtones. For other preferences such as entry fields and lists, Android uses popup dialogs. Users do not enter their preference directly into the preference UI activity. They tap a preference, fill in a value, and click OK to commit the change.</p>
<br/>
<img alt="PreferenceC_PackageExplorer." src="../images/Android/Android16/PreferenceC_PackageExplorer.png"/> <br/>
<br/>
<br/>
<p>Structurally, in the preference XML, fields and lists are not significantly different from other preference types.</p>
<p>Here is the file, <strong>res/xml/preferences.xml</strong>.</p>
<pre>
&lt;PreferenceScreen
	xmlns:android="http://schemas.android.com/apk/res/android"&gt;
	&lt;PreferenceCategory android:title="Simple Preferences"&gt;
		&lt;CheckBoxPreference
			android:key="checkbox"
			android:title="Checkbox Preference"
			android:summary="Check it on, check it off"/&gt;
		&lt;RingtonePreference
			android:key="ringtone"
			android:title="Ringtone Preference"
			android:showDefault="true"
			android:showSilent="true"
			android:summary="Pick a tone, any tone"/&gt;
	&lt;/PreferenceCategory&gt;
	&lt;PreferenceCategory android:title="Detail Screens"&gt;
		&lt;PreferenceScreen
			android:key="detail"
			android:title="Detail Screen"
			android:summary="Additional preferences held in another page"&gt;
			&lt;CheckBoxPreference
				android:key="checkbox2"
				android:title="Another Checkbox"
				android:summary="On. Off. It really doesn't matter."/&gt;
		&lt;/PreferenceScreen&gt;
	&lt;/PreferenceCategory&gt;
	&lt;PreferenceCategory android:title="Other Preferences"&gt;
		&lt;EditTextPreference
			android:key="text"
			android:title="Text Entry Dialog"
			android:summary="Click to pop up a field for entry"
			android:dialogTitle="Enter something useful"/&gt;
		&lt;ListPreference
			android:key="list"
			android:title="Selection Dialog"
			android:summary="Click to pop up a list to choose from"
			android:entries="@array/cities"
			android:entryValues="@array/airport_codes"
			android:dialogTitle="Choose a California city" /&gt;
	&lt;/PreferenceCategory&gt;
&lt;/PreferenceScreen&gt;
</pre>
<p>With <strong>&lt;EditTextPreference&gt;</strong>, in addition to the title and summary we put on the preference itself, we can also supply the title to use for the dialog.</p>
<p>With <strong>&lt;ListPreferenc&gt;</strong>, we supply both a dialog title and two string-array resources: one for the display names and one for the values. These need to be in the same order, because the index of the chosen display name determines which value is stored as the preference in the <strong>SharedPreferences</strong>. </p>
<p>Here are the arrays. <strong>res/values/arrays.xml</strong> for use by the <strong>ListPreference</strong>.</p>
<pre>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;resources&gt;
	&lt;string-array name="cities"&gt;
		&lt;item&gt;Fresno&lt;/item&gt;
		&lt;item&gt;Santa Ana&lt;/item&gt;
		&lt;item&gt;San Jose&lt;/item&gt;
		&lt;item&gt;Long Beach&lt;/item&gt;
		&lt;item&gt;Los Angeles&lt;/item&gt;
		&lt;item&gt;Monterey&lt;/item&gt;
		&lt;item&gt;San Francisco&lt;/item&gt;
		&lt;item&gt;Santa Barbara&lt;/item&gt;
		&lt;item&gt;San Diego&lt;/item&gt;
	&lt;/string-array&gt;
	&lt;string-array name="airport_codes"&gt;
		&lt;item&gt;FYI&lt;/item&gt;
		&lt;item&gt;SNA&lt;/item&gt;
		&lt;item&gt;SJC&lt;/item&gt;
		&lt;item&gt;LGB&lt;/item&gt;
		&lt;item&gt;LAX&lt;/item&gt;
		&lt;item&gt;MRY&lt;/item&gt;
		&lt;item&gt;SFO&lt;/item&gt;
		&lt;item&gt;SBA&lt;/item&gt;
		&lt;item&gt;SAN&lt;/item&gt;
	&lt;/string-array&gt;
&lt;/resources&gt;
</pre>
<br/>
<p><strong>strings.xml</strong>:</p>
<pre>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;resources&gt;
  &lt;string name="app_name"&gt;PreferencesC&lt;/string&gt; 
  &lt;string name="checkbox"&gt;Checkbox:&lt;/string&gt; 
  &lt;string name="ringtone"&gt;Ringtone:&lt;/string&gt; 
  &lt;string name="checkbox2"&gt;Checkbox #2:&lt;/string&gt; 
  &lt;string name="edit_pref"&gt;Edit Preferences&lt;/string&gt;
  &lt;string name="text"&gt;Text:&lt;/string&gt;
  &lt;string name="list"&gt;List Selection:&lt;/string&gt;
&lt;/resources&gt;
</pre>
<br/>
<br/>
<p><strong>main.xml</strong>:</p>
<pre>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;TableLayout 
    xmlns:android="http://schemas.android.com/apk/res/android" 
    android:layout_width="fill_parent" 
    android:layout_height="fill_parent"&gt;
	&lt;TableRow&gt;
  		&lt;TextView 
  		    android:text="@string/checkbox" 
  		    android:paddingRight="5dp" /&gt; 
  		&lt;TextView 
  		    android:id="@+id/checkbox" /&gt; 
  	&lt;/TableRow&gt;
	&lt;TableRow&gt;
  		&lt;TextView 
  		    android:text="@string/ringtone" 
  		    android:paddingRight="5dp" /&gt; 
  		&lt;TextView 
  		    android:id="@+id/ringtone" /&gt; 
  	&lt;/TableRow&gt;s
	&lt;TableRow&gt;
  		&lt;TextView 
  		    android:text="@string/checkbox2" 
  		    android:paddingRight="5dp" /&gt; 
  		&lt;TextView 
  		    android:id="@+id/checkbox2" /&gt; 
  	&lt;/TableRow&gt;
  	&lt;TableRow&gt;
  		&lt;TextView 
  		    android:text="@string/text" 
  		    android:paddingRight="5dp" /&gt; 
  		&lt;TextView android:id="@+id/text" /&gt; 
  	&lt;/TableRow&gt;
	&lt;TableRow&gt;
  		&lt;TextView 
  		    android:text="@string/list" 
  		    android:paddingRight="5dp" /&gt; 
  		&lt;TextView 
  		    android:id="@+id/list" /&gt; 
  	&lt;/TableRow&gt;	
&lt;/TableLayout&gt;
</pre>
<br/>
<br/>
<p><strong>AndroidManifest.xml</strong>:</p>
<pre>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;manifest 
    xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.bogotobogo.preferencesc"
    android:versionCode="1"
    android:versionName="1.0" &gt;

    &lt;uses-sdk android:minSdkVersion="14" /&gt;

    &lt;application
        android:icon="@drawable/cw"
        android:label="@string/app_name" &gt;
        &lt;activity
            android:name=".PreferencesC"
            android:label="@string/app_name" &gt;
            &lt;intent-filter&gt;
                &lt;action android:name="android.intent.action.MAIN" /&gt;
                &lt;category android:name="android.intent.category.LAUNCHER" /&gt;
            &lt;/intent-filter&gt;
        &lt;/activity&gt;
        &lt;activity
			android:name=".EditPreferences"
			android:label="@string/app_name"&gt;
		&lt;/activity&gt;
    &lt;/application&gt;
&lt;/manifest&gt;
</pre>
<br/>
<br/>
<p><strong>my_menu.xml</strong>:</p>
<pre>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;menu 
    xmlns:android="http://schemas.android.com/apk/res/android"&gt;
    &lt;item android:id="@+id/edit_pref"
          android:icon="@drawable/misc"
          android:showAsAction="ifRoom|withText"
          android:title="@string/edit_pref" /&gt;
&lt;/menu&gt;
</pre>
<br/>
<br/>
<p><strong>PreferencesC.java</strong>:</p>
<pre>
package com.bogotobogo.preferencesc;

import android.app.Activity;
import android.content.Intent;
import android.content.SharedPreferences;
import android.os.Bundle;
import android.preference.PreferenceManager;
import android.view.Menu;
import android.view.MenuInflater;
import android.view.MenuItem;
import android.widget.TextView;


public class PreferencesC extends Activity {
	
	private TextView checkbox=null;
	private TextView ringtone=null;
	private TextView checkbox2=null;
	private TextView text=null;
	private TextView list=null;
	
	@Override
	public void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		setContentView(R.layout.main);
		
		checkbox=(TextView)findViewById(R.id.checkbox);
		ringtone=(TextView)findViewById(R.id.ringtone);
		checkbox2=(TextView)findViewById(R.id.checkbox2);
		text=(TextView)findViewById(R.id.text);
		list=(TextView)findViewById(R.id.list);
	}
	
	@Override
	public void onResume() {
		super.onResume();
		
		SharedPreferences prefs=PreferenceManager
						.getDefaultSharedPreferences(this);
		checkbox.setText(new Boolean(prefs.getBoolean("checkbox", false))
								.toString());
		ringtone.setText(prefs.getString("ringtone", "&lt;unset&gt;"));
		checkbox2.setText(new Boolean(prefs.getBoolean("checkbox2", false))
								.toString());
		text.setText(prefs.getString("text", "&lt;unset&gt;"));
		list.setText(prefs.getString("list", "&lt;unset&gt;"));
	}
	
	@Override
    public boolean onCreateOptionsMenu(Menu menu) {
    	MenuInflater inflater = getMenuInflater();
    	inflater.inflate(R.menu.my_menu, menu);
    	return true;
	}

	@Override
	public boolean onOptionsItemSelected(MenuItem item) {
		switch (item.getItemId()) {       
			case R.id.edit_pref:
			startActivity(new Intent(this, EditPreferences.class));        
			return true;      
		}  
		return(super.onOptionsItemSelected(item));
	}
}
</pre>
<br/>
<br/>
<p><strong>EditPreferences.java</strong>:</p>
<pre>
package com.bogotobogo.preferencesc;

import android.os.Bundle;
import android.preference.PreferenceActivity;

public class EditPreferences extends PreferenceActivity {
	@Override
	public void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		addPreferencesFromResource(R.xml.preferences);
	}
}

</pre>
<br/>
<p>Initial screen.</p>
<br/>
<img alt="PreferencesCInitial" src="../images/Android/Android16/PreferencesCInitial.png"/> <br/>
<br/>
<p>At Edit Button, we have the preference UI starting with another category with another pair of preference entries. </p>
<br/>
<img alt="PreferencesCEdit" src="../images/Android/Android16/PreferencesCEdit.png"/> <br/>
<br/>
<p>If we tap the Text Entry Dialog, we'll have text-entry dialog with the prior preference entry already filled in.</p>
<br/>
<img alt="PreferencesCTextEntry" src="../images/Android/Android16/PreferencesCTextEntry.png"/> <br/>
<br/>
<p>Tapping on Selection Dialog will bring up a selection dialog showing names of cities from the array, <strong>res/values/arrays.xml</strong>.</p>
<br/>
<img alt="PreferencesCSelectionDialog" src="../images/Android/Android16/PreferencesCSelectionDialog.png"/> <br/>
<br/>
<p>Files used in the example, <a href="../Files/Android/Android16/PreferencesC.zip">PreferencesC.zip</a></p>
<br/>
<br/>
<br/>
<br/>
<div class="subtitle" id="PreferencesD">16.4 Another example of using SharedPreferences</div>
<p>Unlike the previous examples, this one is a little bit more complicated.</p>
<br/>
<img alt="Favorites_ResultA" src="../images/Android/Android16/Favorites_ResultA.png"/> <br/>
<br/>
<br/>
<img alt="Favorites_ResultB" src="../images/Android/Android16/Favorites_ResultB.png"/> <br/>
<br/>
<br/>
<p>The application is making a list of favorite web addresses. We store the pair of key/value <br/>(for example,
www.facebook.com/facebook, http://developer.android.com/resources/dashboard/platform-versions.html/android platforms etc.) into <strong>savedSiteList</strong> file. <br/>
To read the key/value pairs from this file, we use <strong>SharedPreferences</strong> objects. Then, to modify the file's contents, we use  <strong>SharedPreferences.Editor</strong> objects.</p>
<p>Because the amount of data being loaded is small, we read in the saved list from the <strong>Activity</strong>'s <strong>onCreate()</strong> method. In other words, it is called from out main thread, UI thread, which is OK since the light weight of the data file.</p>
<p>Another key feature of this example is <strong>Intent</strong>. Intent is used to launch an appropriate activity. It tells OS an action to take and the data on which that action is to be acted upon. For example, when we touch a search button, application creates a url that contains the query string. Then, we load the url into a web browser by creating a new intent for viewing the url, then passing that intent to the <strong>startActivity()</strong> method.</p>
<br/>
<br/>
<div class="subtitle_2nd" id="PreferencesD_import">16.4.1 What are in this example</div>
<p>Let's look into more details regarding the feature of this example by reviewing the packages to be imported.</p>
<ol>
<li>java.util.Arrays - This is needed to sort out the list alphabetically.</li>
<li>android.app.AlertDialog - Used to display dialogs. Actually, in this example, the user required to enter both a url and a name for it. If one of them is empty, we want to display a message to the user. Also, when the user tries to delete all the entries of the list by pressing <strong>ClearList</strong> button, we want the user to confirm by displaying an <strong>AlertDialog</strong>.</li>
<li>android.content.Context - This allows us to access several Android services and this provides access to information about the environment in which our app is running. For example, when we load UI dynamically, we'll be using a constant from this class with a <strong>LayoutInflater</strong>.</li>
<li>android.content.DialogInterface - This contains the nested interface <strong>OnClickListener</strong> which we implement to handle the events when the user touches a <strong>AlertDialog</strong> button.</li>
<li>android.content.Intent - This specifies an <strong>action</strong> to take and the <strong>data</strong> to be acted upon.</li>
<li>android.content.SharedPreferences - This is used to manipulate key/value pairs that are stored in files.</li>
<li>android.net.Uri - This is used to convert a url into the format that can be understood by an <strong>Intent</strong> that launches web browser.</li>
<li>android.view.LayoutInflater - This is used to inflate an XML layout to programmatically create the components of UI. This is used when the user adds another row of buttons (name of url button and Edit button) to UI.</li>
<li>android.view.inputmethod.InputMethodManager - In our example, when the user saves the entry of list, this enables us to hide the soft keyboard.</li>
<li>android.view.View.OnClickListener - This is to specify the code to be executed when the user pressed a button.</li>
</ol>
<br/>
<br/>
<div class="subtitle_2nd" id="PreferencesD_layout">16.4.2 Layout with 5 TableRows</div>
<p>We use <strong>TableLayout</strong> with five <strong>TableRow</strong>s as shown in the <strong>main.xml</strong> below.</p>
<pre>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;TableLayout xmlns:android="http://schemas.android.com/apk/res/android" 
   android:id="@+id/tableLayout" 
   android:layout_width="match_parent" 
   android:layout_height="match_parent" 
   android:padding="5dp" 
   <font color="red">android:stretchColumns="*"</font>
   android:background="@android:color/white"&gt;
   
   &lt;!-- tableRow0 --&gt;
   &lt;TableRow android:id="@+id/tableRow0" 
      android:layout_height="wrap_content" 
      android:layout_width="match_parent"&gt;
      &lt;EditText android:layout_width="match_parent" 
         android:layout_height="wrap_content" 
         <font color="red">android:layout_span="2"</font>
         android:inputType="text" 
         android:id="@+id/urlEditText"  
         <font color="red">android:hint="@string/favoritesPrompt"</font>
         <font color="red">android:imeOptions="actionNext"&gt;</font>
      &lt;/EditText&gt;
   &lt;/TableRow&gt;
      
   &lt;!-- tableRow1 --&gt;
   &lt;TableRow android:id="@+id/tableRow1" 
      android:layout_height="wrap_content" 
      android:layout_width="match_parent"&gt;
      &lt;EditText android:layout_height="wrap_content" 
         <font color="red">android:hint="@string/listPrompt"</font>
         android:inputType="text" 
         android:id="@+id/listEditText" 
         <font color="red">android:imeOptions="actionDone"</font>
         android:layout_gravity="center_vertical"&gt;          
      &lt;/EditText&gt;
      &lt;Button android:id="@+id/saveButton" 
         android:layout_height="wrap_content" 
         android:layout_width="wrap_content" 
         android:layout_gravity="center_vertical" 
         android:text="@string/save"&gt;          
      &lt;/Button&gt;
   &lt;/TableRow&gt;
      
   &lt;!-- tableRow2 --&gt;
   &lt;TableRow android:id="@+id/tableRow2" 
      android:layout_height="wrap_content" 
      android:layout_width="match_parent"
      android:background="@color/olive"&gt;
      
      &lt;TextView android:layout_height="wrap_content" 
         android:id="@+id/listedSearchesTextView" 
         android:text="@string/listedSearches" 
         android:layout_width="match_parent" 
         android:layout_gravity="center_horizontal" 
         <font color="red">android:layout_span="2"</font>
         android:textSize="18sp" 
         android:textColor="@android:color/black"
         android:padding="5dp"&gt;          
      &lt;/TextView&gt;
   &lt;/TableRow&gt;
      
   &lt;!-- tableRow3 --&gt;
   &lt;TableRow android:id="@+id/tableRow3" 
      android:background="@color/olive"
      android:layout_height="wrap_content" 
      android:layout_width="match_parent" 
      <font color="red">android:layout_weight="1"&gt;</font>
      
      &lt;ScrollView android:id="@+id/listScrollView" 
         android:layout_width="match_parent" 
         <font color="red">android:layout_span="2"</font>
         android:padding="5dp"&gt;
			&lt;TableLayout android:id="@+id/listTableLayout" 
			   android:layout_width="match_parent" 
			   android:layout_height="wrap_content" 
			   android:padding="5dp" 
			   android:stretchColumns="*"&gt;			    
			&lt;/TableLayout&gt;
      &lt;/ScrollView&gt;
   &lt;/TableRow&gt;
      
   &lt;!-- tableRow4 --&gt;
   &lt;TableRow android:id="@+id/tableRow4" 
      android:layout_height="wrap_content" 
      android:layout_width="match_parent"&gt;
      
      &lt;Button android:layout_width="wrap_content" 
         android:layout_height="wrap_content" 
         android:text="@string/clearLists" 
         android:id="@+id/clearListsButton"
         <font color="red">android:layout_span="2"</font>
         android:layout_marginTop="5dp"&gt;
      &lt;/Button&gt;
   &lt;/TableRow&gt; 
&lt;/TableLayout&gt;
</pre>
<p>How to put the <strong>TableRow</strong> into the <strong>TableLayout</strong> using <strong>Outline</strong> window was explained in another chapter, <a href="androidAppsMortgageCalculator.html#tablerow" target="_blank">Mortgage Calculator</a>.</p>
<p>The picture below is the Layout on <strong>Outline</strong> window.</p>
<img alt="Favorites_Outline_Window" src="../images/Android/Android16/Favorites_Outline_Window.png"/> <br/>
<br/>
<p>The "*" in <strong>android:stretchColumns="*"</strong> tells that all of the columns are stretchable. In other words, they can expand to the full width of the screen. All the <strong>layout_span</strong> is set to 2 except the <strong>TableRow</strong> 1 where we need to put 2 widgets: <strong>EditText</strong> as well as a <strong>Button</strong>. The <strong>android:hint</strong> attributes of the each <strong>EditText</strong> helps the user understand the intent of the <strong>EditText</strong>. The <strong>android:imeOptions</strong> enables us to configure options for the current input method. For instance, when <strong>urlEditText</strong> has the focus and the soft keyboard is displayed, the keyboard contains a <strong>Next</strong> button which was specified with the <strong>android:imeOptions</strong> attribute value <strong>actionNext</strong> so that when the user touches this button, the focus can be moved to the next component that can accept text input, in this case, <strong>listEditText</strong>.</p>
<img alt="Favorites_actionNext" src="../images/Android/Android16/Favorites_actionNext.png"/> <br/>
<br/>
<p>When <strong>listEditText</strong> has the focus, the soft keyboard contains a <strong>Done</strong> button which was specified with the <strong>android:imeOptions</strong> attribute value <strong>actionDone</strong>. If the user touches this button, the system hides the softkeyboard.</p>
<img alt="Favorites_actionDone" src="../images/Android/Android16/Favorites_actionDone.png"/> <br/>
<br/>
<p>Note the line <strong>android:layout_weight="1"</strong> of tableRow 3, which make it more important than other rows when it comes to resizing. </p>
<br/>
<br/>
<div class="subtitle_2nd" id="PreferencesD_layout2">16.4.3 Inflating Layout with 2 Buttons</div>
<p>We're adding two new buttons when the user touches <strong>Save</strong> button.</p>
<pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;TableRow xmlns:android="http://schemas.android.com/apk/res/android"
   android:id="@+id/newListTableRow" 
   android:layout_width="match_parent" 
   android:layout_height="wrap_content"
   android:background="@android:color/transparent"&gt;
   
   &lt;Button android:id="@+id/newListButton" 
      android:layout_width="@dimen/listButtonWidth" 
      android:layout_height="wrap_content"&gt;      
   &lt;/Button&gt;
   &lt;Button android:id="@+id/newEditButton" 
      android:layout_width="@dimen/editButtonWidth" 
      android:layout_height="wrap_content" 
      android:text="@string/edit"&gt;      
   &lt;/Button&gt;
&lt;/TableRow&gt;
</pre>
<p>Note couple of things in the <strong>new_list_view.xml</strong>. We set the background color, <strong>android:background</strong>, to  <strong>android:color/transparent</strong> to see through the <strong>tableRow 3</strong>'s color. Also note that we used <strong>@dimen</strong> to specify the width of the <strong>Button</strong>s.</p>
<br/>
<br/>
<div class="subtitle_2nd" id="PreferencesD_javacode">16.4.4 Java code - Favorites.java</div>
<p>Here is the code for our only <strong>Favorites Activity</strong>.</p>
<pre>
package com.bogotobogo.favorites;

import java.util.Arrays;
import android.app.Activity;
import android.app.AlertDialog;
import android.content.Context;
import android.content.DialogInterface;
import android.content.Intent;
import android.content.SharedPreferences;
import android.net.Uri;
import android.os.Bundle;
import android.view.LayoutInflater;
import android.view.View;
import android.view.View.OnClickListener;
import android.view.inputmethod.InputMethodManager;
import android.widget.Button;
import android.widget.EditText;
import android.widget.TableLayout;
import android.widget.TableRow;

// main Activity class for the Favorite app
public class Favorites extends Activity 
{
   private EditText urlEditText; // where the user enters url
   private EditText listEditText; // where the user enters a name for the url
   private SharedPreferences savedSiteList; // user's favorite sites
   private TableLayout listTableLayout; // shows the search buttons

   // called when the activity is first created
   @Override
   public void <font color="red">onCreate</font>(Bundle savedInstanceState) 
   {
      super.onCreate(savedInstanceState); // call the superclass version
      setContentView(R.layout.main); // set the layout
      
      // get the SharedPreferences that contains the user's saved searches 
      <font color="red">savedSiteList = getSharedPreferences("searches", MODE_PRIVATE);</font>

      // get a reference to the listTableLayout
      listTableLayout = 
         (TableLayout) findViewById(R.id.listTableLayout);
      
      // get references to the two EditTexts  
      urlEditText = (EditText) findViewById(R.id.urlEditText);
      listEditText = (EditText) findViewById(R.id.listEditText);
      
      // register listeners for the Save and Clear Lists Buttons
      Button saveButton = (Button) findViewById(R.id.saveButton);
      saveButton.setOnClickListener(saveButtonListener);
      Button clearListsButton = 
        (Button) findViewById(R.id.clearListsButton);
      clearListsButton.setOnClickListener(clearListsButtonListener);
      
      reloadButtons(null); // add previously saved searches to UI
   } 
   
   // recreates search site name and edit Buttons for all saved searches;
   // passes null to create all the site name and edit Buttons.
   private void <font color="red">reloadButtons</font>(String newList) 
   {
      // store saved url/site names in the lists array
      String[] lists = 
         savedSiteList.getAll().keySet().toArray(new String[0]); 
      Arrays.sort(lists, String.CASE_INSENSITIVE_ORDER); // sort by list

      // if a new list was added, insert in GUI at the appropriate location
      if (newList != null)
      {
         makeListGUI(newList, Arrays.binarySearch(lists, newList));
      }
      else // display GUI for all lists
      {         
         // display all saved searches
         for (int index = 0; index &lt; lists.length; ++index)
            makeListGUI(lists[index], index);
      } 
   } 

   // add new search to the save file, then reload all Buttons
   private void <font color="red">makeList</font>(String url, String site_name)
   {
      // originalSiteList will be null if we're modifying an existing search
      String originalSiteList = savedSiteList.getString(site_name, null);

      // get a SharedPreferences.Editor to store new url/site name pair
      SharedPreferences.Editor preferencesEditor = savedSiteList.edit();
      preferencesEditor.putString(site_name, url); // store current search
      preferencesEditor.apply(); // store the updated preferences
            
      // if this is a new site name, add its GUI
      if (originalSiteList == null) 
         reloadButtons(site_name); // adds a new button for this list
   } 
   
   // add a new list button and corresponding edit button to the GUI
   private void <font color="red">makeListGUI</font>(String list, int index)
   {
      // get a reference to the LayoutInflater service
      LayoutInflater inflater = (LayoutInflater) getSystemService(
         Context.LAYOUT_INFLATER_SERVICE);

      // inflate new_list_view.xml to create new list and edit Buttons
      View newListView = inflater.inflate(R.layout.new_list_view, null);
       
      // get newListButton, set its text and register its listener
      Button newListButton = 
         (Button) newListView.findViewById(R.id.newListButton);
      newListButton.setText(list); 
      newListButton.setOnClickListener(listButtonListener); 

      // get newEditButton and register its listener
      Button newEditButton = 
         (Button) newListView.findViewById(R.id.newEditButton); 
      newEditButton.setOnClickListener(editButtonListener);

      // add new list and edit buttons to listTableLayout
      listTableLayout.addView(newListView, index);
   } 
   
   // remove all saved search Buttons from the app
   private void clearButtons()
   {
      // remove all saved search Buttons
      listTableLayout.removeAllViews();
   } 
   
   // create a new Button and add it to the ScrollView
   public OnClickListener saveButtonListener = new OnClickListener() 
   {
      @Override
      public void onClick(View v) 
      {
         // create list if both urlEditText and listEditText are not empty
         if (urlEditText.getText().length() &gt; 0 &amp;&amp;
            listEditText.getText().length() &gt; 0)
         {
            makeList(urlEditText.getText().toString(), 
               listEditText.getText().toString());
            urlEditText.setText(""); // clear urlEditText
            listEditText.setText(""); // clear listEditText
            
            // hide the soft keyboard
            ((InputMethodManager) getSystemService(
               Context.INPUT_METHOD_SERVICE)).hideSoftInputFromWindow(
               listEditText.getWindowToken(), 0);  
         } 
         else // display message asking user to provide a site_name and a url
         {
            // create a new AlertDialog Builder
            AlertDialog.Builder builder = 
               new AlertDialog.Builder(Favorites.this);

            builder.setTitle(R.string.missingTitle); // title bar string

            // provide an OK button that simply dismisses the dialog
            builder.setPositiveButton(R.string.OK, null); 
            
            // set the message to display
            builder.setMessage(R.string.missingMessage);
            
            // create AlertDialog from the AlertDialog.Builder
            AlertDialog errorDialog = builder.create();
            errorDialog.show(); // display the Dialog
         } 
      } 
   }; 

   // clears all saved searches
   public OnClickListener clearListsButtonListener = new OnClickListener() 
   {
      @Override
      public void onClick(View v) 
      {
         // create a new AlertDialog Builder
         AlertDialog.Builder builder = 
            new AlertDialog.Builder(Favorites.this);

         builder.setTitle(R.string.confirmTitle); // title bar string

         // provide an OK button that simply dismisses the dialog
         builder.setPositiveButton(R.string.erase,
            new DialogInterface.OnClickListener()
            {
               @Override
               public void onClick(DialogInterface dialog, int button)
               {
                  clearButtons(); // clear all saved searches from the map
                  
                  // get a SharedPreferences.Editor to clear searches
                  SharedPreferences.Editor preferencesEditor = 
                     savedSiteList.edit();
                  
                  preferencesEditor.clear(); // remove all url name/site_name pairs
                  preferencesEditor.apply(); //  the changes
               } 
            } 
         );
         
         builder.setCancelable(true);
         builder.setNegativeButton(R.string.cancel, null);
         
         // set the message to display
         builder.setMessage(R.string.confirmMessage);
         
         // create AlertDialog from the AlertDialog.Builder
         AlertDialog confirmDialog = builder.create();
         confirmDialog.show(); // display the Dialog
      } 
   }; 

   // load selected search in a web browser
   public OnClickListener listButtonListener = new OnClickListener()
   {
      @Override
      public void onClick(View v) 
      {
         // get the url
         String buttonText = ((Button)v).getText().toString();
         String url = savedSiteList.getString(buttonText, "");
         
         // create the URL corresponding to the touched Button's site name
         String urlString = getString(R.string.searchURL) + url;

         // create an Intent to launch a web browser    
         <font color="red">Intent webIntent = new Intent(Intent.ACTION_VIEW, 
            Uri.parse(urlString));</font>                      

         <font color="red">startActivity</font>(webIntent); // execute the Intent
      } 
   }; 
   
   // edit selected search
   public OnClickListener editButtonListener = new OnClickListener()
   {
      @Override
      public void onClick(View v) 
      {
         // get all necessary GUI components
         TableRow buttonTableRow = (TableRow) v.getParent();
         Button searchButton = 
            (Button) buttonTableRow.findViewById(R.id.newListButton);
         
         String list = searchButton.getText().toString();
         
         // set EditTexts to match the chosen url and site_name
         listEditText.setText(list);
         urlEditText.setText(savedSiteList.getString(list, ""));
      } 
   }; 
} 
</pre>
<p>The <strong>onCreate()</strong> method is called in the following cases:</p>
<ol>
<li>when loading an app</li>
<li>when an app is restored after killed while it was in the background</li>
<li>configuration change</li>
</ol>
<p>The <strong>getSharedPreferences()</strong> method is used to get a <strong>SharedPreferences</strong> object so that we can read url/site_name pairs from the previously stored "searches" file. The 2nd argument is the specification of accessibility of the file, and it has the following options:</p>
<ol>
<li><strong>MODE_PRIVATE</strong><br/>
accessible only to this app. Typically, we use this option.
</li>
<li><strong>MODE_WORLD_READABLE</strong><br/>
Any app on the device can read from the file.
</li>
<li><strong>MODE_WORLD_WRITABLE</strong><br/>
Any app on the device can write to the file.
</li>
</ol>
</p>
<br/>
<br/>
<div class="subtitle_2nd" id="PreferencesD_reload">16.4.5 The reloadButtons() Method</div>
<p>The <strong>reloadButtons()</strong> method creates and shows new site_name and edit buttons. When its arguent is not <strong>null</strong>, is does it for a newly saved site, and when its argument is <strong>null</strong>, it does it for all saved sites.</p>
<pre>
   private void reloadButtons(String newList) 
   {
      // store saved url/url names in the lists array
      String[] lists = 
         savedSiteList.getAll().keySet().toArray(new String[0]); 
      Arrays.sort(lists, String.CASE_INSENSITIVE_ORDER); // sort by list
      ...
</pre>
<p>We sort our list in alphabetical order. We get an array of <strong>key</strong> Strings from <strong>sharedPreferences</strong> object. The <strong>getAll()</strong> method returns a key/value pair <strong>Map</strong>. Then, the <strong>keySet()</strong> get a <strong>Set</strong> of all the keys. We call <strong>toArray()</strong> to convert the <strong>Set</strong> into an array of Strings. The <strong>Arrays.sort()</strong> sorts this with CASE_INSENSITIVE_ORDER.</p>
<pre>
    // add new search to the save file, then reload all Buttons
   private void makeList(String url, String site_name)
   {
      // originalSiteList will be null if we're modifying an existing search
      String originalSiteList = savedSiteList.getString(site_name, null);

      // get a SharedPreferences.Editor to store new url/site name pair
      SharedPreferences.Editor preferencesEditor = savedSiteList.edit();
      preferencesEditor.putString(site_name, url); // store current search
      preferencesEditor.apply(); // store the updated preferences
            
      // if this is a new site name, add its GUI
      if (originalSiteList == null) 
         reloadButtons(site_name); // adds a new button for this list
   } 
</pre>
<br/>
<br/>
<div class="subtitle_2nd" id="PreferencesD_makeList">16.4.6 The makeList() Method</div>
<p>The method <strong>makeList()</strong> adds a new site to <strong>savedSiteList</strong> or modifies an existing list. To look up the previous value associated with <strong>site_name</strong>, the <strong>getString()</strong> method is used. If the <strong>site_name</strong> is not in the file the 2nd arg is returned, in this case, it's <strong>null</strong>. So, it's new, and need to be added to the UI.</p>
<p>To modify the file associated with a <strong>SharedPreferences</strong> object, we should call <strong>edit()</strong> method to get a <strong>Editor preferencesEditor</strong> object:</p>
<pre>
SharedPreferences.Editor preferencesEditor = savedSiteList.edit();
</pre>
<p>The object enables us to add key/value pairs to, remove key/value pairs from, and modify the value associated with a specific key in a <strong>SharedPreferences</strong> file.</p>
<p>The following line of code calls <strong>putString()</strong> method to save the new site_name (key) and its url (value). </p>
<pre>
preferencesEditor.putString(site_name, url);
</pre>
<p>Then, then next line finalize it, making changes to the "searches" file by calling <strong>apply()</strong> method.</p>
<p>The <strong>makeListGUI()</strong> method adds one new row to the <strong>listTableLayout</strong>. That row contains a site_name and an <strong>Edit</strong> button. This is done by inflating the xml, <strong>new_list_view.xml</strong> which has a <strong>newListTableRow</strong> which contains <strong>newListButton</strong> and <strong>newEditButton</strong>:</p>
<pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;TableRow xmlns:android="http://schemas.android.com/apk/res/android"
   android:id="@+id/newListTableRow" 
   ...  
   &lt;Button android:id="@+id/newListButton" 
   ...
   &lt;Button android:id="@+id/newEditButton" 
   ...
&lt;/TableRow&gt;
</pre>
</p>
<p>To inflate the layout, we use a <strong>service</strong>. To do that, we need to obtain a reference to the service by calling the <strong>getSystemService()</strong> method. Because this can return references to several system services, we should cast the result to type <strong>LayoutInflater</strong>:</p>
<pre>
 LayoutInflater inflater = (LayoutInflater) getSystemService(
         Context.LAYOUT_INFLATER_SERVICE);
</pre>
<p>After inflating layout using <strong>R.layout.new_list_view</strong>, the following line returns a reference to a <strong>View</strong>. This is the <strong>TableRow</strong> that contains the two <strong>Button</strong>s:</p>
<pre>
// inflate new_list_view.xml to create new list and edit Buttons
View newListView = inflater.inflate(R.layout.new_list_view, null);
</pre>
<p>The last line of the <strong>makeListGUI()</strong> method adds the <strong>newListView</strong> to the <strong>listTableLayout</strong> at the specified <strong>index</strong>.</p>
<br/>
<br/>
<br/>
<br/>
<div class="subtitle_2nd" id="PreferencesD_intent">16.4.7 Intent to launch a web browser</div>
<p>Let's look at the anonymous inner-class object <strong>listButtonListener</strong>. It implements interface <strong>OnClickListener</strong>.  We already registered this <strong>listButtonListener</strong> object as the event handler object for the <strong>newListButton</strong>.</p>
<p>The following line of code creates a new <strong>Intent</strong> which will be used to launch a web browser and display corresponding web site. The first argument passed to <strong>Intent</strong>'s constructor is a constant describing the <strong>action</strong>. In our case, it is <strong>Intent.ACTION_VIEW</strong>. The second argument is a <strong>uri</strong> to the data on which we wish to perform the action.</p>
<pre>
 // create an Intent to launch a web browser    
         Intent webIntent = new Intent(Intent.ACTION_VIEW, 
            Uri.parse(urlString));                      
</pre>
<p>The <strong>startActivity()</strong> takes the <strong>Intent</strong> as an argument. The <strong>startActivity()</strong> strats the appropriate <strong>Activity</strong> to perform the particular action on the given data. Note that we did not specify a component to display the web page but instead allowed the system to launch the appropriate <strong>Activity</strong> based on the type of data. This is called <strong>implicit Intent</strong>.</p>
<p>If multiple activities can handle the action and the <strong>startActivity()</strong> get the data, the system displays a dialog which gives user the choice of activities. However, if the system cannot find an activity to handle the action, then the <strong>startActivity()</strong> throws an exception called <strong>ActivityNotFoundException</strong>.</p>
<p>Regarding the <strong>Intent</strong>, let look at the <strong>intent-filter</strong> element in the <strong>AndroidManifest.xml</strong> file:</p>
<pre>
   &lt;application
        ...
        &lt;activity
            ...
            &lt;intent-filter&gt;
                &lt;action android:name="android.intent.action.MAIN" /&gt;
                &lt;category android:name="android.intent.category.LAUNCHER" /&gt;
            &lt;/intent-filter&gt;
        &lt;/activity&gt;
    &lt;/application&gt;
</pre>
<p>The <strong>intent-filter</strong> element specifies the types of intents the <strong>Activity</strong> can respond to.</p>
<pre>
"android.intent.action.MAIN"
</pre> 
tells that this is the app's main activity. In other words, it is the one that is displayed when the app is launched. The <strong>category</strong> element specifies the type of Android component that handles the event. In our example, it tells that this activity must be listed in the application launcher with other apps on the device.</p>
<br/>
<p>Files used in this project are in <a href="../Files/Android/Android16/Favorites.zip">Favorites.zip</a></p></p>
<br/>
<br/>
<br/>
<br/>
<div>
    
<div class="custom-disqus">
<!-- Disqus -->
<div id="disqus_thread"></div>
<script>
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
     
/* Disabling Disqus 4/26/2017
    var disqus_config = function () {
        this.page.url = window.location.href;
        this.page.identifier = document.title;
    };
    
    (function() {  // REQUIRED CONFIGURATION VARIABLE: EDIT THE SHORTNAME BELOW
        var d = document, s = d.createElement('script');
        
        s.src = '//bogotobogocom.disqus.com/embed.js';  // IMPORTANT: Replace EXAMPLE with your forum shortname!
        
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
 Disabling Disqus */    
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

<!-- Disqus ends here -->
</div>

<br>
<br>
<br>
<br></div>
          </div>
          <div class="col-sm-3 col-md-3 col-xs-3">
  	    <div class="g-person" data-width="1" data-href="//plus.google.com/111664369941456137911" data-rel="author">
  	    </div>
            <div class="resume">
              <p>Ph.D. / Golden Gate Ave, San Francisco / Seoul National Univ / Carnegie Mellon / UC Berkeley / DevOps / Deep Learning / Visualization</p>
            </div>
  	    <div>
                
<div class="skyscraper">
  <br>


<div class="skyscraper">

  <div class="bogo-paypal">
    <!-- Paypal Donate button -->
    <p><i>Sponsor Open Source development activities and free contents for everyone.</i></p>

    <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
    <input type="hidden" name="cmd" value="_s-xclick">
    <input type="hidden" name="encrypted" value="-----BEGIN PKCS7-----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-----END PKCS7-----
    ">
    <input type="image" src="https://www.paypalobjects.com/webstatic/en_US/btn/btn_donate_pp_142x27.png" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
    <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
    </form>
    <p><i>Thank you.</i></p>
    <p>- <a href="../about_us.html" target="_blank">K Hong</a></p>
    <!-- End of Paypal Donate button   -->
  </div>


  <script async src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- bogo_skyscraper -->
  <ins class="adsbygoogle"
       style="display:inline-block;width:160px;height:600px"
       data-ad-client="ca-pub-4716428189734495"
       data-ad-slot="5321096966"></ins>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({});
  </script>


  <br><br>





</div></div>




<!-- Place this tag after the last widget tag. -->
<script type="text/javascript">
        (function() {
          var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
          po.src = 'https://apis.google.com/js/platform.js';
          var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
        })();
</script>
  	    </div>
  	    <div class="side_menu">
                <br /><br />
<br /><br />
<h1>Android Tutorials</h1>
   <br /><br />
   <a href="android.html">1. Introduction</a></li>
   <br /><br />
   <a href="android2MyFirstApplication.html">2. My First Android Application</a></li>
   <br /><br />
   <a href="android3BackToHelloWorld.html">3. Back to Hello World Again</a></li>
   <br /><br />
   <a href="android4UserInterface.html">4. Basic User Interface</a></li>
   <br /><br />
   <a href="android5Layouts.html">5. Layouts</a></li>
   <br /><br />
   <a href="android6ListViewSpinnerGridViewGallery.html">6. ListView, Spinner, GridView, and Gallery</a></li>
   <br /><br />
   <a href="android7dvancedListView.html">7. Advanced ListView Widget</a></li>
   <br /><br />
   <a href="android8DatePickerTimePickerClocks.php">8. DatePicker, TimePicker, and Clocks</a></li>
   <br /><br />
   <a href="android9TabWidgetFlipper.html">9. TabWidget, Flipper, and SlidingDrawer</a></li>
   <br /><br />
   <a href="android10Menus.html">10. Menus</a></li>
   <br /><br />
   <a href="android11JUnitTest.html">11. Android JUnit Test</a></li>
   <br /><br />
   <a href="android12ActivityTesting.html">12. Activity Testing</a></li>
   <br /><br />
   <a href="android13Intent.html">13. Intent</a></li>
   <br /><br />
   <a href="android14OnNotepad.php">14. On Notepad Example</a></li>
   <br /><br />
   <a href="android15Rotation.html">15. Configuring Rotation</a></li>
   <br /><br />
   <a href="android16Preferences.html">16. Preferences</a></li>
   <br /><br />
   <a href="android17MapView.html">17. Map View</a></li>
   <br /><br />
   <a href="android18Manifest.html">18. Manifest</a></li>
   <br /><br />
   <a href="android19Animation.html">19. Animation - Frame By Frame, Layout, and View</a></li>
   <br /><br />
   <a href="android20NotificationService.html">20. Notification and Service</a></li>
   <br /><br />
   <a href="android21ContentProvider.html">21. Content Provider</a></li>
   <br /><br />
   <a href="android22Threads.html">22. Threads</a></li>
   <br /><br />
   <a href="android23HTTP.html">23. HTTP Internet Connection</a></li>
   <br /><br />
   <a href="android24Media.html">24. Media</a></li>
   <br /><br />
   <a href="android25ActivityLifeCycle.html">25. Activity Life Cycle</a></li>
   <br /><br />
   <a href="androidAppsMortgageCalculator.html">Apps - Mortagage Calculator</a></li>
   <br /><br />
          

<br /><br />

<div class="skyscraper">
  <br>


<div class="skyscraper">

  <div class="bogo-paypal">
    <!-- Paypal Donate button -->
    <p><i>Sponsor Open Source development activities and free contents for everyone.</i></p>

    <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
    <input type="hidden" name="cmd" value="_s-xclick">
    <input type="hidden" name="encrypted" value="-----BEGIN PKCS7-----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-----END PKCS7-----
    ">
    <input type="image" src="https://www.paypalobjects.com/webstatic/en_US/btn/btn_donate_pp_142x27.png" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
    <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
    </form>
    <p><i>Thank you.</i></p>
    <p>- <a href="../about_us.html" target="_blank">K Hong</a></p>
    <!-- End of Paypal Donate button   -->
  </div>


  <script async src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- bogo_skyscraper -->
  <ins class="adsbygoogle"
       style="display:inline-block;width:160px;height:600px"
       data-ad-client="ca-pub-4716428189734495"
       data-ad-slot="5321096966"></ins>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({});
  </script>


  <br><br>





</div></div>

  		
  	    </div>
          </div>
        </div>
      </div> <!-- / section -->
    </div>
  </div>

  <br>
<br>
<br>
<br>

<div class="custom-disqus">
<!-- Disqus -->
<!-- Disqus disabled Oct 17, 2016 
<div id="disqus_thread"></div>
<script>
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
     
    var disqus_config = function () {
        this.page.url = window.location.href;
        this.page.identifier = document.title;
    };
    
    (function() {  // REQUIRED CONFIGURATION VARIABLE: EDIT THE SHORTNAME BELOW
        var d = document, s = d.createElement('script');
        
        s.src = '//bogotobogocom.disqus.com/embed.js';  // IMPORTANT: Replace EXAMPLE with your forum shortname!
        
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
     
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
---- Disable -->
<!-- Disqus ends here -->
</div>

<br>
<br>
<br>
<br>


<!-- footer starts here -->
<footer id="footer">
  <div class="container">
    <div class="row">
      <div class="col-md-4 widget">
        <h3 class="widget-title">Contact</h3>
        <div class="widget-body">
          <p>BogoToBogo<br>
            <a href="mailto:#">contactus@bogotobogo.com</a><br>
          </p>  
        </div>
      </div>

      <div class="col-md-4 widget">
        <h3 class="widget-title">Follow Bogotobogo</h3>
        <div class="widget-body">

          <!--
          <ul>
            <li><a href="https://www.facebook.com/KHongSanFrancisco" target="_unknown"><i class="fa fa-facebook"></i></a></li>
            <li><a href="https://twitter.com/KHongTwit" target="_unknown"><i class="fa fa-twitter"></i></a></li>
            <li><a href="https://plus.google.com/u/0/+KHongSanFrancisco/posts" target="_unknown"><i class="fa fa-google-plus"></i> </a></li>
          </ul>
          -->
             <h3>
             <a href="https://www.facebook.com/KHongSanFrancisco" target="_unknown"><i class="fa fa-facebook"></i></a> 
             <a href="https://twitter.com/KHongTwit" target="_unknown"><i class="fa fa-twitter"></i></a> 
             <a href="https://plus.google.com/u/0/+KHongSanFrancisco/posts" target="_unknown"><i class="fa fa-google-plus"></i> </a> 
             </h3>

        </div>
      </div>

      <div class="col-md-4 widget">
        <h3 class="widget-title"><a href="../about_us.html">About Us</a></h3>
        <div class="widget-body">
            <a href="mailto:#">contactus@bogotobogo.com</a><br>
            <br>
            Golden Gate Ave, San Francisco, CA 94115
          </p>  
        </div>
      </div>

    </div> 
  </div>
</footer>

<footer id="underfooter">
  <div class="container">
    <div class="row">
      
      <div class="col-md-6 widget">
        <div class="widget-body">
          <p>Golden Gate Ave, San Francisco, CA 94115 </p>
        </div>
      </div>

      <div class="col-md-6 widget">
        <div class="widget-body">
          <p class="text-right">
            Copyright &copy; 2016, bogotobogo<br> 
            Design: <a href="../index.html" rel="designer">Web Master</a> </p>
        </div>
      </div>

    </div>
  </div>
</footer>

  <!-- JavaScript libs are placed at the end of the document so the pages load faster -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
<script type="text/javascript"
     src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- D3.js -->
<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>

<!-- Google Analytics -->
<script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-12016988-2']);
    _gaq.push(['_trackPageview']);
    
    (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>

<!-- Google Analytics --> 
<!-- We need this for Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-43017326-1', 'bogotobogo.com');
  ga('send', 'pageview');

</script>
  
<!-- Google+ -->
<script type="text/javascript" src="http://apis.google.com/js/plusone.js"></script>

</body>

<!-- Mirrored from www.bogotobogo.com/Android/android16Preferences.php by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 11 Dec 2017 15:23:27 GMT -->
</html>

